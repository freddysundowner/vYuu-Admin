{"code":"(this.webpackJsonptokshop=this.webpackJsonptokshop||[]).push([[20],{203:function(e,a,t){\"use strict\";t.r(a);var s=t(0),n=t(16),l=(t(43),t(71),t(44),t(47),t(11)),r=(t(61),t(45)),o=t(211),c=t(209),i=t(18),d=t(46),b=t(1);a.default=()=>{const{state:{adminInfo:e,token:a}}=Object(s.useContext)(l.a),[t,m]=Object(s.useState)([{name:\"Cash On Delivery\",amount:0,enabled:!0}]);Object(s.useEffect)((()=>{e.shopId&&d.a.getShippingMethods(e.shopId).then((e=>{e&&(console.log(e.data[0].shippingMethods),m(e.data[0].shippingMethods))})).catch((e=>{Object(i.b)(\"There is a server error!\")}))}),[e]);const h=(e,a)=>{let s=[...t];s[a][e.target.name]=e.target.value,m(s),console.log(s),console.log(t)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(r.a,{children:\"Shipping Methods\"}),Object(b.jsxs)(\"div\",{className:\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\",children:[Object(b.jsx)(n.Button,{className:\"h-10 px-6 mb-5\",onClick:()=>{m([...t,{name:\"\",amount:0,enabled:!0}])},children:\"Add +\"}),Object(b.jsxs)(\"form\",{onSubmit:a=>{a.preventDefault(),console.log(t),d.a.saveShippingMethods(e.shopId,{data:t}).then((e=>{Object(i.c)(\"Updated shipping methods\")})).catch((e=>Object(i.b)(e.message)))},children:[t.map(((e,a)=>Object(b.jsxs)(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[Object(b.jsx)(\"div\",{className:\"col-span-4 sm:col-span-2\",children:Object(b.jsx)(n.Input,{name:\"name\",placeholder:\"Name\",onChange:e=>h(e,a),value:e.name,className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"})}),Object(b.jsx)(\"div\",{className:\"col-span-4 sm:col-span-2\",children:Object(b.jsx)(n.Input,{name:\"amount\",placeholder:\"Amount\",onChange:e=>h(e,a),value:e.amount,type:\"number\",className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"})}),Object(b.jsx)(\"div\",{className:\"flex-grow scrollbar-hide w-full\",children:Object(b.jsxs)(\"div\",{className:\"grid grid-cols-12 gap-3 xl:gap-12 lg:gap-12\",children:[Object(b.jsx)(\"button\",{className:\"col-span-6 sm:col-span-3\",onClick:()=>(e=>{let a=[...t];a.splice(e,1),m(a)})(a),children:\"Remove\"}),Object(b.jsxs)(\"div\",{className:\"col-span-4 sm:col-span-4\",children:[Object(b.jsx)(\"input\",{name:\"enabled\",onChange:e=>h(e,a),type:\"hidden\",value:e.enabled,className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"}),Object(b.jsx)(o.a,{control:Object(b.jsx)(c.a,{name:\"enabled\",value:e.enabled,checked:e.enabled,onChange:s=>{let n=[...t];n[a].enabled=!e.enabled,m(n),console.log(n)},inputProps:{\"aria-label\":\"controlled\"}}),label:\"Enabled\"})]})]})})]},a))),Object(b.jsx)(\"div\",{className:\"flex flex-row-reverse pr-6 pb-6\",children:Object(b.jsx)(n.Button,{type:\"submit\",className:\"h-12 px-6\",children:\"Save\"})})]})]})]})}},61:function(e,a,t){\"use strict\";t(0);var s=t(16),n=t(1);a.a=e=>{let{setRole:a,register:t,name:l,label:r}=e;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(s.Select,{onChange:e=>a(e.target.value),className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\",name:l,...t(`${l}`,{required:`${r} is required!`}),children:[Object(n.jsx)(\"option\",{value:\"\",defaultValue:!0,hidden:!0,children:\"Admin role\"}),Object(n.jsx)(\"option\",{value:\"admin\",children:\"Admin\"}),Object(n.jsx)(\"option\",{value:\"restricted\",children:\"Restricted\"})]})})}},71:function(e,a,t){\"use strict\";var s=t(0),n=t(53),l=t(8),r=t.n(l),o=t(48),c=t.n(o),i=t(2),d=t(49),b=t(11),m=t(17),h=t(18);a.a=e=>{const{state:a}=Object(s.useContext)(b.a),{adminInfo:t}=a,[l,o]=Object(s.useState)(\"\"),[g,p]=Object(s.useState)(\"\"),u=Object(i.h)(),{isDrawerOpen:j,closeDrawer:O,setIsUpdate:f}=Object(s.useContext)(m.a),{register:x,handleSubmit:v,setValue:w,clearErrors:D,formState:{errors:k}}=Object(n.a)();return Object(s.useEffect)((()=>{if(!j)return w(\"email\"),w(\"password\"),w(\"joiningDate\"),w(\"role\"),D(\"email\"),D(\"password\"),D(\"joiningDate\"),void D(\"role\");e&&d.a.getAdminById(e).then((e=>{e&&(w(\"email\",e.admin.email),w(\"password\"),w(\"joiningDate\",e.admin.joiningData),w(\"role\",e.admin.role),p(c()(e.joiningData).format(\"YYYY-MM-DD\")))})).catch((e=>{Object(h.b)(\"There is a server error!\")}))}),[e,w,j,t.email,D]),Object(s.useEffect)((()=>{if(\"/setting\"===u.pathname||\"/edit-profile\"===u.pathname&&r.a.get(\"adminInfo\")){const e=JSON.parse(r.a.get(\"adminInfo\"));w(\"email\",e.email),w(\"role\",e.role),o(e.image),p(c()(e.joiningData).format(\"YYYY-MM-DD\"))}}),[]),{register:x,handleSubmit:v,onSubmit:a=>{const s={email:a.email,password:a.password,joiningDate:g||c()(new Date).format(\"YYYY-MM-DD\"),role:a.role};e?(d.a.updateAdmin(e,{email:t.email,data:s}).then((e=>{f(!0),Object(h.c)(\"Admin Updated Successfully!\")})).catch((e=>Object(h.b)(e.message))),O()):(d.a.addAdmin(s).then((e=>{f(!0),Object(h.c)(e.message)})).catch((e=>Object(h.b)(e.message))),O())},errors:k,setImageUrl:o,imageUrl:l,selectedDate:g,setSelectedDate:p}}}}]);","name":"static/js/20.e15ccdce.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react__WEBPACK_IMPORTED_MODULE_0__","_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__","_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__","_components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__","_mui_material__WEBPACK_IMPORTED_MODULE_9__","_mui_material__WEBPACK_IMPORTED_MODULE_10__","_utils_toast__WEBPACK_IMPORTED_MODULE_11__","_services_ShopServices__WEBPACK_IMPORTED_MODULE_12__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__","state","adminInfo","token","Object","formFields","setFormFields","name","amount","enabled","shopId","getShippingMethods","then","res","console","log","catch","err","handleFormChange","event","index","data","target","value","children","className","onClick","onSubmit","e","preventDefault","saveShippingMethods","message","map","form","placeholder","onChange","type","splice","removeFields","control","checked","inputProps","label","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","_ref","setRole","register","required","defaultValue","hidden","react_hook_form__WEBPACK_IMPORTED_MODULE_1__","js_cookie__WEBPACK_IMPORTED_MODULE_2__","js_cookie__WEBPACK_IMPORTED_MODULE_2___default","n","dayjs__WEBPACK_IMPORTED_MODULE_3__","dayjs__WEBPACK_IMPORTED_MODULE_3___default","react_router__WEBPACK_IMPORTED_MODULE_4__","_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__","_context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__","_utils_toast__WEBPACK_IMPORTED_MODULE_8__","id","imageUrl","setImageUrl","selectedDate","setSelectedDate","location","isDrawerOpen","closeDrawer","setIsUpdate","handleSubmit","setValue","clearErrors","formState","errors","getAdminById","admin","email","joiningData","role","format","pathname","a","get","user","JSON","parse","image","staffData","password","joiningDate","Date","updateAdmin","addAdmin"],"sources":["static/js/20.e15ccdce.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonptokshop\"] = this[\"webpackJsonptokshop\"] || []).push([[20],{\n\n/***/ 203:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_form_Error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(43);\n/* harmony import */ var _hooks_useAdminSubmit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71);\n/* harmony import */ var _components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44);\n/* harmony import */ var _components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47);\n/* harmony import */ var _context_AdminContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var _components_form_SelectRole__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61);\n/* harmony import */ var _components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(45);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(211);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(209);\n/* harmony import */ var _utils_toast__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(18);\n/* harmony import */ var _services_ShopServices__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(46);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__);\nconst ShippingMethods=()=>{const{state:{adminInfo,token}}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__[/* AdminContext */ \"a\"]);const[formFields,setFormFields]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])([{name:\"Cash On Delivery\",amount:0,enabled:true}]);Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{if(adminInfo.shopId){_services_ShopServices__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"].getShippingMethods(adminInfo.shopId).then(res=>{if(res){console.log(res[\"data\"][0][\"shippingMethods\"]);setFormFields(res[\"data\"][0][\"shippingMethods\"]);}}).catch(err=>{Object(_utils_toast__WEBPACK_IMPORTED_MODULE_11__[/* notifyError */ \"b\"])(\"There is a server error!\");});}},[adminInfo]);const handleFormChange=(event,index)=>{let data=[...formFields];data[index][event.target.name]=event.target.value;setFormFields(data);console.log(data);console.log(formFields);};const submit=e=>{e.preventDefault();console.log(formFields);_services_ShopServices__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"].saveShippingMethods(adminInfo.shopId,{data:formFields}).then(res=>{Object(_utils_toast__WEBPACK_IMPORTED_MODULE_11__[/* notifySuccess */ \"c\"])(\"Updated shipping methods\");}).catch(err=>Object(_utils_toast__WEBPACK_IMPORTED_MODULE_11__[/* notifyError */ \"b\"])(err.message));};const addFields=()=>{let object={name:\"\",amount:0,enabled:true};setFormFields([...formFields,object]);};const removeFields=index=>{let data=[...formFields];data.splice(index,1);setFormFields(data);};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{children:\"Shipping Methods\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"div\",{className:\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"],{className:\"h-10 px-6 mb-5\",onClick:addFields,children:\"Add +\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"form\",{onSubmit:submit,children:[formFields.map((form,index)=>{return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"div\",{className:\"col-span-4 sm:col-span-2\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Input\"],{name:\"name\",placeholder:\"Name\",onChange:event=>handleFormChange(event,index),value:form.name,className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"div\",{className:\"col-span-4 sm:col-span-2\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Input\"],{name:\"amount\",placeholder:\"Amount\",onChange:event=>handleFormChange(event,index),value:form.amount,type:\"number\",className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"div\",{className:\"flex-grow scrollbar-hide w-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-12 gap-3 xl:gap-12 lg:gap-12\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"button\",{className:\"col-span-6 sm:col-span-3\",onClick:()=>removeFields(index),children:\"Remove\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"div\",{className:\"col-span-4 sm:col-span-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"input\",{name:\"enabled\",onChange:event=>handleFormChange(event,index),type:\"hidden\",value:form.enabled,className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"],{control:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"],{name:\"enabled\",value:form.enabled,checked:form.enabled,onChange:event=>{let data=[...formFields];data[index][\"enabled\"]=!form.enabled;setFormFields(data);console.log(data);},inputProps:{\"aria-label\":\"controlled\"}}),label:\"Enabled\"})]})]})})]},index);}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"div\",{className:\"flex flex-row-reverse pr-6 pb-6\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"],{type:\"submit\",className:\"h-12 px-6\",children:\"Save\"})})]})]})]});// const { register, handleSubmit, onSubmit, errors, imageUrl, setImageUrl } =\n//   useShippingSubmit(adminInfo._id);\n// const [inputFields, setInputFields] = useState([{ name: \"\", amount: \"\" }]);\n// const handleFormChange = (index, event) => {\n//   let data = [...inputFields];\n//   data[index][event.target.name] = event.target.value;\n//   setInputFields(data);\n// };\n// const addFields = () => {\n//   let newfield = { name: \"\", amount: \"\" };\n//   setInputFields([...inputFields, newfield]);\n// };\n// const submit = (e) => {\n//   e.preventDefault();\n//   console.log(inputFields);\n// };\n// return (\n//   <>\n//     <PageTitle>Shipping Methods</PageTitle>\n//     <div className=\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\">\n//       <form onSubmit={handleSubmit(onSubmit)}>\n//         <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n//           <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n//             <LabelArea label=\"Cash on Delivery\" />\n//             <div className=\"col-span-8 sm:col-span-4\">\n//               <FormControlLabel control={<Switch defaultChecked />} />\n//             </div>\n//           </div>\n//         </div>\n//         <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full \">\n//           <Button className=\"h-12 px-6\" onClick={addFields}>\n//             Add +\n//           </Button>\n//           <div className=\"mt-6\"></div>\n//           {inputFields.map((input, index) => {\n//             return (\n//               <div\n//                 className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\"\n//                 key={index}\n//               >\n//                 <div className=\"col-span-4 sm:col-span-3\">\n//                   <InputArea\n//                     register={register}\n//                     defaultValue={input.name}\n//                     label=\"Label Name\"\n//                     name=\"name\"\n//                     type=\"text\"\n//                     placeholder=\"Label Name\"\n//                     onChange={(event) => handleFormChange(index, event)}\n//                   />\n//                 </div>\n//                 <div className=\"col-span-4 sm:col-span-2\">\n//                   <InputArea\n//                     register={register}\n//                     defaultValue={input.amount}\n//                     name=\"amount\"\n//                     type=\"number\"\n//                     placeholder=\"Amount\"\n//                     onChange={(event) => handleFormChange(index, event)}\n//                   />\n//                   <Error errorName={errors.role} />\n//                 </div>\n//                 <FormControlLabel control={<Switch defaultChecked />} />\n//               </div>\n//             );\n//           })}\n//         </div>\n//         <div className=\"flex flex-row-reverse pr-6 pb-6\">\n//           <Button type=\"submit\" className=\"h-12 px-6\">\n//             Update Settings\n//           </Button>\n//         </div>\n//       </form>\n//     </div>\n//   </>\n// );\n};/* harmony default export */ __webpack_exports__[\"default\"] = (ShippingMethods);\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\nconst SelectRole=_ref=>{let{setRole,register,name,label}=_ref;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Select\"],{onChange:e=>setRole(e.target.value),className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\",name:name,...register(`${name}`,{required:`${label} is required!`}),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"\",defaultValue:true,hidden:true,children:\"Admin role\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"restricted\",children:\"Restricted\"})]})});};/* harmony default export */ __webpack_exports__[\"a\"] = (SelectRole);\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(48);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2);\n/* harmony import */ var _services_AdminServices__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(49);\n/* harmony import */ var _context_AdminContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var _context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(17);\n/* harmony import */ var _utils_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18);\nconst useAdminSubmit=id=>{const{state}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__[/* AdminContext */ \"a\"]);const{adminInfo}=state;const[imageUrl,setImageUrl]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");const[selectedDate,setSelectedDate]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");const location=Object(react_router__WEBPACK_IMPORTED_MODULE_4__[/* useLocation */ \"h\"])();const{isDrawerOpen,closeDrawer,setIsUpdate}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__[/* SidebarContext */ \"a\"]);const{register,handleSubmit,setValue,clearErrors,formState:{errors}}=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_1__[/* useForm */ \"a\"])();const onSubmit=data=>{const staffData={email:data.email,password:data.password,joiningDate:selectedDate?selectedDate:dayjs__WEBPACK_IMPORTED_MODULE_3___default()(new Date()).format(\"YYYY-MM-DD\"),role:data.role};if(id){_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].updateAdmin(id,{email:adminInfo.email,data:staffData}).then(res=>{setIsUpdate(true);Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifySuccess */ \"c\"])(\"Admin Updated Successfully!\");}).catch(err=>Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(err.message));closeDrawer();}else{_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].addAdmin(staffData).then(res=>{setIsUpdate(true);Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifySuccess */ \"c\"])(res.message);}).catch(err=>Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(err.message));closeDrawer();}};Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{if(!isDrawerOpen){setValue(\"email\");setValue(\"password\");setValue(\"joiningDate\");setValue(\"role\");clearErrors(\"email\");clearErrors(\"password\");clearErrors(\"joiningDate\");clearErrors(\"role\");return;}if(id){_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].getAdminById(id).then(res=>{if(res){setValue(\"email\",res.admin.email);setValue(\"password\");setValue(\"joiningDate\",res.admin.joiningData);setValue(\"role\",res.admin.role);setSelectedDate(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(res.joiningData).format(\"YYYY-MM-DD\"));}}).catch(err=>{Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(\"There is a server error!\");});}},[id,setValue,isDrawerOpen,adminInfo.email,clearErrors]);Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{if(location.pathname===\"/setting\"||location.pathname===\"/edit-profile\"&&js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"adminInfo\")){const user=JSON.parse(js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"adminInfo\"));setValue(\"email\",user.email);setValue(\"role\",user.role);setImageUrl(user.image);setSelectedDate(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(user.joiningData).format(\"YYYY-MM-DD\"));}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return{register,handleSubmit,onSubmit,errors,setImageUrl,imageUrl,selectedDate,setSelectedDate};};/* harmony default export */ __webpack_exports__[\"a\"] = (useAdminSubmit);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/var/www/admin/src/pages/ShippingMethods.js","/var/www/admin/src/components/form/SelectRole.js","/var/www/admin/src/hooks/useAdminSubmit.js"],"names":["ShippingMethods","state","adminInfo","token","useContext","AdminContext","formFields","setFormFields","useState","name","amount","enabled","useEffect","shopId","ShopServices","getShippingMethods","then","res","console","log","catch","err","notifyError","handleFormChange","event","index","data","target","value","submit","e","preventDefault","saveShippingMethods","notifySuccess","message","addFields","object","removeFields","splice","_jsxs","_Fragment","children","_jsx","PageTitle","className","Button","onClick","onSubmit","map","form","Input","placeholder","onChange","type","FormControlLabel","control","Switch","checked","inputProps","label","SelectRole","_ref","setRole","register","Select","required","defaultValue","hidden","useAdminSubmit","id","imageUrl","setImageUrl","selectedDate","setSelectedDate","location","useLocation","isDrawerOpen","closeDrawer","setIsUpdate","SidebarContext","handleSubmit","setValue","clearErrors","formState","errors","useForm","staffData","email","password","joiningDate","dayjs","Date","format","role","AdminServices","updateAdmin","addAdmin","getAdminById","admin","joiningData","pathname","Cookies","get","user","JSON","parse","image"],"mappings":"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","file":"x","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Button, Input } from \"@windmill/react-ui\";\n\nimport Error from \"../components/form/Error\";\nimport useAdminSubmit from \"../hooks/useAdminSubmit\";\nimport LabelArea from \"../components/form/LabelArea\";\nimport InputArea from \"../components/form/InputArea\";\nimport { AdminContext } from \"../context/AdminContext\";\nimport SelectRole from \"../components/form/SelectRole\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport { FormControlLabel, Switch } from \"@mui/material\";\nimport { notifyError, notifySuccess } from \"../utils/toast\";\nimport ShopServices from \"../services/ShopServices\";\n\nconst ShippingMethods = () => {\n  const {\n    state: { adminInfo, token },\n  } = useContext(AdminContext);\n  const [formFields, setFormFields] = useState([\n    { name: \"Cash On Delivery\", amount: 0, enabled: true },\n  ]);\n\n  useEffect(() => {\n    if (adminInfo.shopId) {\n      ShopServices.getShippingMethods(adminInfo.shopId)\n        .then((res) => {\n          if (res) {\n            console.log(res[\"data\"][0][\"shippingMethods\"]);\n            setFormFields(res[\"data\"][0][\"shippingMethods\"]);\n          }\n        })\n        .catch((err) => {\n          notifyError(\"There is a server error!\");\n        });\n    }\n  }, [adminInfo]);\n\n  const handleFormChange = (event, index) => {\n    let data = [...formFields];\n    data[index][event.target.name] = event.target.value;\n    setFormFields(data);\n    console.log(data);\n    console.log(formFields);\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n    console.log(formFields);\n    ShopServices.saveShippingMethods(adminInfo.shopId, { data: formFields })\n      .then((res) => {\n        notifySuccess(\"Updated shipping methods\");\n      })\n      .catch((err) => notifyError(err.message));\n  };\n\n  const addFields = () => {\n    let object = {\n      name: \"\",\n      amount: 0,\n      enabled: true,\n    };\n\n    setFormFields([...formFields, object]);\n  };\n\n  const removeFields = (index) => {\n    let data = [...formFields];\n    data.splice(index, 1);\n    setFormFields(data);\n  };\n\n  return (\n    <>\n      <PageTitle>Shipping Methods</PageTitle>\n      <div className=\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\">\n        <Button className=\"h-10 px-6 mb-5\" onClick={addFields}>\n          Add +\n        </Button>\n        <form onSubmit={submit}>\n          {formFields.map((form, index) => {\n            return (\n              <div\n                className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\"\n                key={index}\n              >\n                <div className=\"col-span-4 sm:col-span-2\">\n                  <Input\n                    name=\"name\"\n                    placeholder=\"Name\"\n                    onChange={(event) => handleFormChange(event, index)}\n                    value={form.name}\n                    className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n                  />\n                </div>\n                <div className=\"col-span-4 sm:col-span-2\">\n                  <Input\n                    name=\"amount\"\n                    placeholder=\"Amount\"\n                    onChange={(event) => handleFormChange(event, index)}\n                    value={form.amount}\n                    type=\"number\"\n                    className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n                  />\n                </div>\n                <div className=\"flex-grow scrollbar-hide w-full\">\n                  <div className=\"grid grid-cols-12 gap-3 xl:gap-12 lg:gap-12\">\n                    <button\n                      className=\"col-span-6 sm:col-span-3\"\n                      onClick={() => removeFields(index)}\n                    >\n                      Remove\n                    </button>\n                    <div className=\"col-span-4 sm:col-span-4\">\n                      <input\n                        name=\"enabled\"\n                        onChange={(event) => handleFormChange(event, index)}\n                        type=\"hidden\"\n                        value={form.enabled}\n                        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n                      />\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            name=\"enabled\"\n                            value={form.enabled}\n                            checked={form.enabled}\n                            onChange={(event) => {\n                              let data = [...formFields];\n                              data[index][\"enabled\"] = !form.enabled;\n                              setFormFields(data);\n                              console.log(data);\n                            }}\n                            inputProps={{ \"aria-label\": \"controlled\" }}\n                          />\n                        }\n                        label=\"Enabled\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n          <div className=\"flex flex-row-reverse pr-6 pb-6\">\n            <Button type=\"submit\" className=\"h-12 px-6\">\n              Save\n            </Button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n\n  // const { register, handleSubmit, onSubmit, errors, imageUrl, setImageUrl } =\n  //   useShippingSubmit(adminInfo._id);\n\n  // const [inputFields, setInputFields] = useState([{ name: \"\", amount: \"\" }]);\n\n  // const handleFormChange = (index, event) => {\n  //   let data = [...inputFields];\n  //   data[index][event.target.name] = event.target.value;\n  //   setInputFields(data);\n  // };\n  // const addFields = () => {\n  //   let newfield = { name: \"\", amount: \"\" };\n\n  //   setInputFields([...inputFields, newfield]);\n  // };\n  // const submit = (e) => {\n  //   e.preventDefault();\n  //   console.log(inputFields);\n  // };\n\n  // return (\n  //   <>\n  //     <PageTitle>Shipping Methods</PageTitle>\n  //     <div className=\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\">\n  //       <form onSubmit={handleSubmit(onSubmit)}>\n  //         <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n  //           <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n  //             <LabelArea label=\"Cash on Delivery\" />\n  //             <div className=\"col-span-8 sm:col-span-4\">\n  //               <FormControlLabel control={<Switch defaultChecked />} />\n  //             </div>\n  //           </div>\n  //         </div>\n  //         <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full \">\n  //           <Button className=\"h-12 px-6\" onClick={addFields}>\n  //             Add +\n  //           </Button>\n  //           <div className=\"mt-6\"></div>\n  //           {inputFields.map((input, index) => {\n  //             return (\n  //               <div\n  //                 className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\"\n  //                 key={index}\n  //               >\n  //                 <div className=\"col-span-4 sm:col-span-3\">\n  //                   <InputArea\n  //                     register={register}\n  //                     defaultValue={input.name}\n  //                     label=\"Label Name\"\n  //                     name=\"name\"\n  //                     type=\"text\"\n  //                     placeholder=\"Label Name\"\n  //                     onChange={(event) => handleFormChange(index, event)}\n  //                   />\n  //                 </div>\n  //                 <div className=\"col-span-4 sm:col-span-2\">\n  //                   <InputArea\n  //                     register={register}\n  //                     defaultValue={input.amount}\n  //                     name=\"amount\"\n  //                     type=\"number\"\n  //                     placeholder=\"Amount\"\n  //                     onChange={(event) => handleFormChange(index, event)}\n  //                   />\n  //                   <Error errorName={errors.role} />\n  //                 </div>\n  //                 <FormControlLabel control={<Switch defaultChecked />} />\n  //               </div>\n  //             );\n  //           })}\n  //         </div>\n\n  //         <div className=\"flex flex-row-reverse pr-6 pb-6\">\n  //           <Button type=\"submit\" className=\"h-12 px-6\">\n  //             Update Settings\n  //           </Button>\n  //         </div>\n  //       </form>\n  //     </div>\n  //   </>\n  // );\n};\n\nexport default ShippingMethods;\n","import React from \"react\";\nimport { Select } from \"@windmill/react-ui\";\n\nconst SelectRole = ({ setRole, register, name, label }) => {\n  return (\n    <>\n      <Select\n        onChange={(e) => setRole(e.target.value)}\n        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n        name={name}\n        {...register(`${name}`, {\n          required: `${label} is required!`,\n        })}\n      >\n        <option value=\"\" defaultValue hidden>\n          Admin role\n        </option>\n        <option value=\"admin\">Admin</option>\n        <option value=\"restricted\">Restricted</option>\n      </Select>\n    </>\n  );\n};\n\nexport default SelectRole;\n","import { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Cookies from \"js-cookie\";\nimport dayjs from \"dayjs\";\nimport { useLocation } from \"react-router\";\n\nimport AdminServices from \"../services/AdminServices\";\nimport { AdminContext } from \"../context/AdminContext\";\nimport { SidebarContext } from \"../context/SidebarContext\";\nimport { notifyError, notifySuccess } from \"../utils/toast\";\n\nconst useAdminSubmit = (id) => {\n  const { state } = useContext(AdminContext);\n  const { adminInfo } = state;\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const location = useLocation();\n  const { isDrawerOpen, closeDrawer, setIsUpdate } = useContext(SidebarContext);\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    clearErrors,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = (data) => {\n    const staffData = {\n      email: data.email,\n      password: data.password,\n      joiningDate: selectedDate\n        ? selectedDate\n        : dayjs(new Date()).format(\"YYYY-MM-DD\"),\n      role: data.role,\n    };\n\n    if (id) {\n      AdminServices.updateAdmin(id, { email: adminInfo.email, data: staffData })\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"Admin Updated Successfully!\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeDrawer();\n    } else {\n      AdminServices.addAdmin(staffData)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(res.message);\n        })\n        .catch((err) => notifyError(err.message));\n      closeDrawer();\n    }\n  };\n\n  useEffect(() => {\n    if (!isDrawerOpen) {\n      setValue(\"email\");\n      setValue(\"password\");\n      setValue(\"joiningDate\");\n      setValue(\"role\");\n      clearErrors(\"email\");\n      clearErrors(\"password\");\n      clearErrors(\"joiningDate\");\n      clearErrors(\"role\");\n      return;\n    }\n    if (id) {\n      AdminServices.getAdminById(id)\n        .then((res) => {\n          if (res) {\n            setValue(\"email\", res.admin.email);\n            setValue(\"password\");\n            setValue(\"joiningDate\", res.admin.joiningData);\n            setValue(\"role\", res.admin.role);\n            setSelectedDate(dayjs(res.joiningData).format(\"YYYY-MM-DD\"));\n          }\n        })\n        .catch((err) => {\n          notifyError(\"There is a server error!\");\n        });\n    }\n  }, [id, setValue, isDrawerOpen, adminInfo.email, clearErrors]);\n\n  useEffect(() => {\n    if (\n      location.pathname === \"/setting\" ||\n      (location.pathname === \"/edit-profile\" && Cookies.get(\"adminInfo\"))\n    ) {\n      const user = JSON.parse(Cookies.get(\"adminInfo\"));\n      setValue(\"email\", user.email);\n      setValue(\"role\", user.role);\n      setImageUrl(user.image);\n      setSelectedDate(dayjs(user.joiningData).format(\"YYYY-MM-DD\"));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    register,\n    handleSubmit,\n    onSubmit,\n    errors,\n    setImageUrl,\n    imageUrl,\n    selectedDate,\n    setSelectedDate,\n  };\n};\n\nexport default useAdminSubmit;\n"]}}