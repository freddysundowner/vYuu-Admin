{"code":"(this.webpackJsonptokshop=this.webpackJsonptokshop||[]).push([[21],{201:function(e,a,t){\"use strict\";t.r(a);var r=t(0),s=t(16),l=t(43),c=(t(71),t(44)),i=t(47),n=t(11),o=(t(61),t(45)),d=t(123),m=t(1);a.default=()=>{const{state:{adminInfo:e,token:a}}=Object(r.useContext)(n.a),{register:t,handleSubmit:j,onSubmit:b,errors:u}=Object(d.a)(e._id);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{children:\"Woocommerce Settings\"}),Object(m.jsx)(\"div\",{className:\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\",children:Object(m.jsxs)(\"form\",{onSubmit:j(b),children:[Object(m.jsx)(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:Object(m.jsxs)(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[Object(m.jsx)(c.a,{label:\"Woocommerce Shop Url\"}),Object(m.jsxs)(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[Object(m.jsx)(i.a,{register:t,defaultValue:\"\",label:\"Woocommerce Shop Url\",name:\"wcUrl\",type:\"wcUrl\",placeholder:\"Url\"}),Object(m.jsx)(l.a,{errorName:u.wcUrl})]})]})}),Object(m.jsx)(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:Object(m.jsxs)(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[Object(m.jsx)(c.a,{label:\" Security Key\"}),Object(m.jsxs)(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[Object(m.jsx)(i.a,{register:t,defaultValue:\"\",label:\"SecurityKey \",name:\"wcSecretKey\",type:\"wcSecretKey\",placeholder:\"security key\"}),Object(m.jsx)(l.a,{errorName:u.wcSecretKey})]})]})}),Object(m.jsx)(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:Object(m.jsxs)(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[Object(m.jsx)(c.a,{label:\"Consumer Key\"}),Object(m.jsxs)(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[Object(m.jsx)(i.a,{register:t,defaultValue:\"\",label:\"ConsumerKey \",name:\"wcConsumerKey\",type:\"wcConsumerKey\",placeholder:\"consumer key\"}),Object(m.jsx)(l.a,{errorName:u.wcConsumerKey})]})]})}),Object(m.jsx)(\"div\",{className:\"flex flex-row-reverse pr-6 pb-6\",children:Object(m.jsx)(s.Button,{type:\"submit\",className:\"h-12 px-6\",children:\"Update Settings\"})})]})})]})}},61:function(e,a,t){\"use strict\";t(0);var r=t(16),s=t(1);a.a=e=>{let{setRole:a,register:t,name:l,label:c}=e;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(r.Select,{onChange:e=>a(e.target.value),className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\",name:l,...t(`${l}`,{required:`${c} is required!`}),children:[Object(s.jsx)(\"option\",{value:\"\",defaultValue:!0,hidden:!0,children:\"Admin role\"}),Object(s.jsx)(\"option\",{value:\"admin\",children:\"Admin\"}),Object(s.jsx)(\"option\",{value:\"restricted\",children:\"Restricted\"})]})})}},71:function(e,a,t){\"use strict\";var r=t(0),s=t(53),l=t(8),c=t.n(l),i=t(48),n=t.n(i),o=t(2),d=t(49),m=t(11),j=t(17),b=t(18);a.a=e=>{const{state:a}=Object(r.useContext)(m.a),{adminInfo:t}=a,[l,i]=Object(r.useState)(\"\"),[u,g]=Object(r.useState)(\"\"),p=Object(o.h)(),{isDrawerOpen:h,closeDrawer:x,setIsUpdate:O}=Object(r.useContext)(j.a),{register:f,handleSubmit:w,setValue:y,clearErrors:S,formState:{errors:v}}=Object(s.a)();return Object(r.useEffect)((()=>{if(!h)return y(\"email\"),y(\"password\"),y(\"joiningDate\"),y(\"role\"),S(\"email\"),S(\"password\"),S(\"joiningDate\"),void S(\"role\");e&&d.a.getAdminById(e).then((e=>{e&&(y(\"email\",e.admin.email),y(\"password\"),y(\"joiningDate\",e.admin.joiningData),y(\"role\",e.admin.role),g(n()(e.joiningData).format(\"YYYY-MM-DD\")))})).catch((e=>{Object(b.b)(\"There is a server error!\")}))}),[e,y,h,t.email,S]),Object(r.useEffect)((()=>{if(\"/setting\"===p.pathname||\"/edit-profile\"===p.pathname&&c.a.get(\"adminInfo\")){const e=JSON.parse(c.a.get(\"adminInfo\"));y(\"email\",e.email),y(\"role\",e.role),i(e.image),g(n()(e.joiningData).format(\"YYYY-MM-DD\"))}}),[]),{register:f,handleSubmit:w,onSubmit:a=>{const r={email:a.email,password:a.password,joiningDate:u||n()(new Date).format(\"YYYY-MM-DD\"),role:a.role};e?(d.a.updateAdmin(e,{email:t.email,data:r}).then((e=>{O(!0),Object(b.c)(\"Admin Updated Successfully!\")})).catch((e=>Object(b.b)(e.message))),x()):(d.a.addAdmin(r).then((e=>{O(!0),Object(b.c)(e.message)})).catch((e=>Object(b.b)(e.message))),x())},errors:v,setImageUrl:i,imageUrl:l,selectedDate:u,setSelectedDate:g}}}}]);","name":"static/js/21.8e8a62f6.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react__WEBPACK_IMPORTED_MODULE_0__","_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__","_components_form_Error__WEBPACK_IMPORTED_MODULE_2__","_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__","_components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__","_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__","_components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__","_hooks_useSettingsSubmit__WEBPACK_IMPORTED_MODULE_9__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","state","adminInfo","token","Object","register","handleSubmit","onSubmit","errors","_id","children","className","label","defaultValue","name","type","placeholder","errorName","wcUrl","wcSecretKey","wcConsumerKey","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","_ref","setRole","onChange","e","target","value","required","hidden","react_hook_form__WEBPACK_IMPORTED_MODULE_1__","js_cookie__WEBPACK_IMPORTED_MODULE_2__","js_cookie__WEBPACK_IMPORTED_MODULE_2___default","n","dayjs__WEBPACK_IMPORTED_MODULE_3__","dayjs__WEBPACK_IMPORTED_MODULE_3___default","react_router__WEBPACK_IMPORTED_MODULE_4__","_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__","_context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__","_utils_toast__WEBPACK_IMPORTED_MODULE_8__","id","imageUrl","setImageUrl","selectedDate","setSelectedDate","location","isDrawerOpen","closeDrawer","setIsUpdate","setValue","clearErrors","formState","getAdminById","then","res","admin","email","joiningData","role","format","catch","err","pathname","a","get","user","JSON","parse","image","data","staffData","password","joiningDate","Date","updateAdmin","message","addAdmin"],"sources":["static/js/21.8e8a62f6.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonptokshop\"] = this[\"webpackJsonptokshop\"] || []).push([[21],{\n\n/***/ 201:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_form_Error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(43);\n/* harmony import */ var _hooks_useAdminSubmit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71);\n/* harmony import */ var _components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44);\n/* harmony import */ var _components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47);\n/* harmony import */ var _context_AdminContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var _components_form_SelectRole__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61);\n/* harmony import */ var _components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(45);\n/* harmony import */ var _hooks_useSettingsSubmit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(123);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nconst WoocommerceSettings=()=>{const{state:{adminInfo,token}}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__[/* AdminContext */ \"a\"]);const{register,handleSubmit,onSubmit,errors}=Object(_hooks_useSettingsSubmit__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(adminInfo._id);var validateWebsiteUrl=websiteUrl=>{const urlRegEx=\"[-a-zA-Z0-9@:%_+.~#?&//=]{2,256}(.[a-z]{2,4})?\\b(/[-a-zA-Z0-9@:%_+.~#?&//=]*)?\";return urlRegEx.test(String(websiteUrl).toLowerCase());};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{children:\"Woocommerce Settings\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{label:\"Woocommerce Shop Url\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{register:register,defaultValue:\"\",label:\"Woocommerce Shop Url\",name:\"wcUrl\",type:\"wcUrl\",placeholder:\"Url\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_Error__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{errorName:errors.wcUrl})]})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{label:\" Security Key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{register:register,defaultValue:\"\",label:\"SecurityKey \",name:\"wcSecretKey\",type:\"wcSecretKey\",placeholder:\"security key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_Error__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{errorName:errors.wcSecretKey})]})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{label:\"Consumer Key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{register:register,defaultValue:\"\",label:\"ConsumerKey \",name:\"wcConsumerKey\",type:\"wcConsumerKey\",placeholder:\"consumer key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_form_Error__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{errorName:errors.wcConsumerKey})]})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"flex flex-row-reverse pr-6 pb-6\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"],{type:\"submit\",className:\"h-12 px-6\",children:\"Update Settings\"})})]})})]});};/* harmony default export */ __webpack_exports__[\"default\"] = (WoocommerceSettings);\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\nconst SelectRole=_ref=>{let{setRole,register,name,label}=_ref;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Select\"],{onChange:e=>setRole(e.target.value),className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\",name:name,...register(`${name}`,{required:`${label} is required!`}),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"\",defaultValue:true,hidden:true,children:\"Admin role\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"restricted\",children:\"Restricted\"})]})});};/* harmony default export */ __webpack_exports__[\"a\"] = (SelectRole);\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(48);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2);\n/* harmony import */ var _services_AdminServices__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(49);\n/* harmony import */ var _context_AdminContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var _context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(17);\n/* harmony import */ var _utils_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18);\nconst useAdminSubmit=id=>{const{state}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__[/* AdminContext */ \"a\"]);const{adminInfo}=state;const[imageUrl,setImageUrl]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");const[selectedDate,setSelectedDate]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");const location=Object(react_router__WEBPACK_IMPORTED_MODULE_4__[/* useLocation */ \"h\"])();const{isDrawerOpen,closeDrawer,setIsUpdate}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__[/* SidebarContext */ \"a\"]);const{register,handleSubmit,setValue,clearErrors,formState:{errors}}=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_1__[/* useForm */ \"a\"])();const onSubmit=data=>{const staffData={email:data.email,password:data.password,joiningDate:selectedDate?selectedDate:dayjs__WEBPACK_IMPORTED_MODULE_3___default()(new Date()).format(\"YYYY-MM-DD\"),role:data.role};if(id){_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].updateAdmin(id,{email:adminInfo.email,data:staffData}).then(res=>{setIsUpdate(true);Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifySuccess */ \"c\"])(\"Admin Updated Successfully!\");}).catch(err=>Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(err.message));closeDrawer();}else{_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].addAdmin(staffData).then(res=>{setIsUpdate(true);Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifySuccess */ \"c\"])(res.message);}).catch(err=>Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(err.message));closeDrawer();}};Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{if(!isDrawerOpen){setValue(\"email\");setValue(\"password\");setValue(\"joiningDate\");setValue(\"role\");clearErrors(\"email\");clearErrors(\"password\");clearErrors(\"joiningDate\");clearErrors(\"role\");return;}if(id){_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].getAdminById(id).then(res=>{if(res){setValue(\"email\",res.admin.email);setValue(\"password\");setValue(\"joiningDate\",res.admin.joiningData);setValue(\"role\",res.admin.role);setSelectedDate(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(res.joiningData).format(\"YYYY-MM-DD\"));}}).catch(err=>{Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(\"There is a server error!\");});}},[id,setValue,isDrawerOpen,adminInfo.email,clearErrors]);Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{if(location.pathname===\"/setting\"||location.pathname===\"/edit-profile\"&&js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"adminInfo\")){const user=JSON.parse(js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"adminInfo\"));setValue(\"email\",user.email);setValue(\"role\",user.role);setImageUrl(user.image);setSelectedDate(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(user.joiningData).format(\"YYYY-MM-DD\"));}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return{register,handleSubmit,onSubmit,errors,setImageUrl,imageUrl,selectedDate,setSelectedDate};};/* harmony default export */ __webpack_exports__[\"a\"] = (useAdminSubmit);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/var/www/admin/src/pages/Woocomerce.js","/var/www/admin/src/components/form/SelectRole.js","/var/www/admin/src/hooks/useAdminSubmit.js"],"names":["WoocommerceSettings","state","adminInfo","token","useContext","AdminContext","register","handleSubmit","onSubmit","errors","useSettingsSubmit","_id","validateWebsiteUrl","websiteUrl","urlRegEx","test","String","toLowerCase","_jsxs","_Fragment","children","_jsx","PageTitle","className","LabelArea","label","InputArea","defaultValue","name","type","placeholder","Error","errorName","wcUrl","wcSecretKey","wcConsumerKey","Button","SelectRole","_ref","setRole","Select","onChange","e","target","value","required","hidden","useAdminSubmit","id","imageUrl","setImageUrl","useState","selectedDate","setSelectedDate","location","useLocation","isDrawerOpen","closeDrawer","setIsUpdate","SidebarContext","setValue","clearErrors","formState","useForm","data","staffData","email","password","joiningDate","dayjs","Date","format","role","AdminServices","updateAdmin","then","res","notifySuccess","catch","err","notifyError","message","addAdmin","useEffect","getAdminById","admin","joiningData","pathname","Cookies","get","user","JSON","parse","image"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAAM,CAAAA,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CACJC,KAAK,CAAE,CAAEC,SAAS,CAAEC,KAAM,CAC5B,CAAC,CAAGC,wDAAU,CAACC,0EAAY,CAAC,CAE5B,KAAM,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,QAAQ,CAAEC,MAAO,CAAC,CAAGC,gFAAiB,CACpER,SAAS,CAACS,GACZ,CAAC,CACD,GAAI,CAAAC,kBAAkB,CAAIC,UAAU,EAAK,CACvC,KAAM,CAAAC,QAAQ,CACZ,gFAAgF,CAClF,MAAO,CAAAA,QAAQ,CAACC,IAAI,CAACC,MAAM,CAACH,UAAU,CAAC,CAACI,WAAW,CAAC,CAAC,CAAC,CACxD,CAAC,CAED,mBACEC,+DAAA,CAAAC,2DAAA,EAAAC,QAAA,eACEC,8DAAA,CAACC,gFAAS,EAAAF,QAAA,CAAC,sBAAoB,CAAW,CAAC,cAC3CC,8DAAA,QAAKE,SAAS,CAAC,gFAAgF,CAAAH,QAAA,cAC7FF,+DAAA,SAAMV,QAAQ,CAAED,YAAY,CAACC,QAAQ,CAAE,CAAAY,QAAA,eACrCC,8DAAA,QAAKE,SAAS,CAAC,gDAAgD,CAAAH,QAAA,cAC7DF,+DAAA,QAAKK,SAAS,CAAC,wDAAwD,CAAAH,QAAA,eACrEC,8DAAA,CAACG,0EAAS,EAACC,KAAK,CAAC,sBAAsB,CAAE,CAAC,cAC1CP,+DAAA,QAAKK,SAAS,CAAC,0BAA0B,CAAAH,QAAA,eACvCC,8DAAA,CAACK,0EAAS,EACRpB,QAAQ,CAAEA,QAAS,CACnBqB,YAAY,CAAC,EAAE,CACfF,KAAK,CAAC,sBAAsB,CAC5BG,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,KAAK,CAClB,CAAC,cACFT,8DAAA,CAACU,sEAAK,EAACC,SAAS,CAAEvB,MAAM,CAACwB,KAAM,CAAE,CAAC,EAC/B,CAAC,EACH,CAAC,CACH,CAAC,cACNZ,8DAAA,QAAKE,SAAS,CAAC,gDAAgD,CAAAH,QAAA,cAC7DF,+DAAA,QAAKK,SAAS,CAAC,wDAAwD,CAAAH,QAAA,eACrEC,8DAAA,CAACG,0EAAS,EAACC,KAAK,CAAC,eAAe,CAAE,CAAC,cACnCP,+DAAA,QAAKK,SAAS,CAAC,0BAA0B,CAAAH,QAAA,eACvCC,8DAAA,CAACK,0EAAS,EACRpB,QAAQ,CAAEA,QAAS,CACnBqB,YAAY,CAAC,EAAE,CACfF,KAAK,CAAC,cAAc,CACpBG,IAAI,CAAC,aAAa,CAClBC,IAAI,CAAC,aAAa,CAClBC,WAAW,CAAC,cAAc,CAC3B,CAAC,cACFT,8DAAA,CAACU,sEAAK,EAACC,SAAS,CAAEvB,MAAM,CAACyB,WAAY,CAAE,CAAC,EACrC,CAAC,EACH,CAAC,CACH,CAAC,cACNb,8DAAA,QAAKE,SAAS,CAAC,gDAAgD,CAAAH,QAAA,cAC7DF,+DAAA,QAAKK,SAAS,CAAC,wDAAwD,CAAAH,QAAA,eACrEC,8DAAA,CAACG,0EAAS,EAACC,KAAK,CAAC,cAAc,CAAE,CAAC,cAClCP,+DAAA,QAAKK,SAAS,CAAC,0BAA0B,CAAAH,QAAA,eACvCC,8DAAA,CAACK,0EAAS,EACRpB,QAAQ,CAAEA,QAAS,CACnBqB,YAAY,CAAC,EAAE,CACfF,KAAK,CAAC,cAAc,CACpBG,IAAI,CAAC,eAAe,CACpBC,IAAI,CAAC,eAAe,CACpBC,WAAW,CAAC,cAAc,CAC3B,CAAC,cACFT,8DAAA,CAACU,sEAAK,EAACC,SAAS,CAAEvB,MAAM,CAAC0B,aAAc,CAAE,CAAC,EACvC,CAAC,EACH,CAAC,CACH,CAAC,cAENd,8DAAA,QAAKE,SAAS,CAAC,iCAAiC,CAAAH,QAAA,cAC9CC,8DAAA,CAACe,yDAAM,EAACP,IAAI,CAAC,QAAQ,CAACN,SAAS,CAAC,WAAW,CAAAH,QAAA,CAAC,iBAE5C,CAAQ,CAAC,CACN,CAAC,EACF,CAAC,CACJ,CAAC,EACN,CAAC,CAEP,CAAC,CAEcpB,kFAAmB,E;;;;;;;;AC3FlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAAM,CAAAqC,UAAU,CAAGC,IAAA,EAAwC,IAAvC,CAAEC,OAAO,CAAEjC,QAAQ,CAAEsB,IAAI,CAAEH,KAAM,CAAC,CAAAa,IAAA,CACpD,mBACEjB,6DAAA,CAAAF,0DAAA,EAAAC,QAAA,cACEF,8DAAA,CAACsB,yDAAM,EACLC,QAAQ,CAAGC,CAAC,EAAKH,OAAO,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CACzCrB,SAAS,CAAC,iHAAiH,CAC3HK,IAAI,CAAEA,IAAK,IACPtB,QAAQ,CAAE,GAAEsB,IAAK,EAAC,CAAE,CACtBiB,QAAQ,CAAG,GAAEpB,KAAM,eACrB,CAAC,CAAC,CAAAL,QAAA,eAEFC,6DAAA,WAAQuB,KAAK,CAAC,EAAE,CAACjB,YAAY,MAACmB,MAAM,MAAA1B,QAAA,CAAC,YAErC,CAAQ,CAAC,cACTC,6DAAA,WAAQuB,KAAK,CAAC,OAAO,CAAAxB,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpCC,6DAAA,WAAQuB,KAAK,CAAC,YAAY,CAAAxB,QAAA,CAAC,YAAU,CAAQ,CAAC,EACxC,CAAC,CACT,CAAC,CAEP,CAAC,CAEciB,mEAAU,E;;;;;;;;ACxBzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KAAM,CAAAU,cAAc,CAAIC,EAAE,EAAK,CAC7B,KAAM,CAAE/C,KAAM,CAAC,CAAGG,wDAAU,CAACC,0EAAY,CAAC,CAC1C,KAAM,CAAEH,SAAU,CAAC,CAAGD,KAAK,CAC3B,KAAM,CAACgD,QAAQ,CAAEC,WAAW,CAAC,CAAGC,sDAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGF,sDAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAAG,QAAQ,CAAGC,wEAAW,CAAC,CAAC,CAC9B,KAAM,CAAEC,YAAY,CAAEC,WAAW,CAAEC,WAAY,CAAC,CAAGtD,wDAAU,CAACuD,8EAAc,CAAC,CAE7E,KAAM,CACJrD,QAAQ,CACRC,YAAY,CACZqD,QAAQ,CACRC,WAAW,CACXC,SAAS,CAAE,CAAErD,MAAO,CACtB,CAAC,CAAGsD,uEAAO,CAAC,CAAC,CAEb,KAAM,CAAAvD,QAAQ,CAAIwD,IAAI,EAAK,CACzB,KAAM,CAAAC,SAAS,CAAG,CAChBC,KAAK,CAAEF,IAAI,CAACE,KAAK,CACjBC,QAAQ,CAAEH,IAAI,CAACG,QAAQ,CACvBC,WAAW,CAAEhB,YAAY,CACrBA,YAAY,CACZiB,4CAAK,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC,CAC1CC,IAAI,CAAER,IAAI,CAACQ,IACb,CAAC,CAED,GAAIxB,EAAE,CAAE,CACNyB,uEAAa,CAACC,WAAW,CAAC1B,EAAE,CAAE,CAAEkB,KAAK,CAAEhE,SAAS,CAACgE,KAAK,CAAEF,IAAI,CAAEC,SAAU,CAAC,CAAC,CACvEU,IAAI,CAAEC,GAAG,EAAK,CACblB,WAAW,CAAC,IAAI,CAAC,CACjBmB,0EAAa,CAAC,6BAA6B,CAAC,CAC9C,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAKC,wEAAW,CAACD,GAAG,CAACE,OAAO,CAAC,CAAC,CAC3CxB,WAAW,CAAC,CAAC,CACf,CAAC,IAAM,CACLgB,uEAAa,CAACS,QAAQ,CAACjB,SAAS,CAAC,CAC9BU,IAAI,CAAEC,GAAG,EAAK,CACblB,WAAW,CAAC,IAAI,CAAC,CACjBmB,0EAAa,CAACD,GAAG,CAACK,OAAO,CAAC,CAC5B,CAAC,CAAC,CACDH,KAAK,CAAEC,GAAG,EAAKC,wEAAW,CAACD,GAAG,CAACE,OAAO,CAAC,CAAC,CAC3CxB,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CAED0B,uDAAS,CAAC,IAAM,CACd,GAAI,CAAC3B,YAAY,CAAE,CACjBI,QAAQ,CAAC,OAAO,CAAC,CACjBA,QAAQ,CAAC,UAAU,CAAC,CACpBA,QAAQ,CAAC,aAAa,CAAC,CACvBA,QAAQ,CAAC,MAAM,CAAC,CAChBC,WAAW,CAAC,OAAO,CAAC,CACpBA,WAAW,CAAC,UAAU,CAAC,CACvBA,WAAW,CAAC,aAAa,CAAC,CAC1BA,WAAW,CAAC,MAAM,CAAC,CACnB,OACF,CACA,GAAIb,EAAE,CAAE,CACNyB,uEAAa,CAACW,YAAY,CAACpC,EAAE,CAAC,CAC3B2B,IAAI,CAAEC,GAAG,EAAK,CACb,GAAIA,GAAG,CAAE,CACPhB,QAAQ,CAAC,OAAO,CAAEgB,GAAG,CAACS,KAAK,CAACnB,KAAK,CAAC,CAClCN,QAAQ,CAAC,UAAU,CAAC,CACpBA,QAAQ,CAAC,aAAa,CAAEgB,GAAG,CAACS,KAAK,CAACC,WAAW,CAAC,CAC9C1B,QAAQ,CAAC,MAAM,CAAEgB,GAAG,CAACS,KAAK,CAACb,IAAI,CAAC,CAChCnB,eAAe,CAACgB,4CAAK,CAACO,GAAG,CAACU,WAAW,CAAC,CAACf,MAAM,CAAC,YAAY,CAAC,CAAC,CAC9D,CACF,CAAC,CAAC,CACDO,KAAK,CAAEC,GAAG,EAAK,CACdC,wEAAW,CAAC,0BAA0B,CAAC,CACzC,CAAC,CAAC,CACN,CACF,CAAC,CAAE,CAAChC,EAAE,CAAEY,QAAQ,CAAEJ,YAAY,CAAEtD,SAAS,CAACgE,KAAK,CAAEL,WAAW,CAAC,CAAC,CAE9DsB,uDAAS,CAAC,IAAM,CACd,GACE7B,QAAQ,CAACiC,QAAQ,GAAK,UAAU,EAC/BjC,QAAQ,CAACiC,QAAQ,GAAK,eAAe,EAAIC,gDAAO,CAACC,GAAG,CAAC,WAAW,CAAE,CACnE,CACA,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACJ,gDAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CAAC,CACjD7B,QAAQ,CAAC,OAAO,CAAE8B,IAAI,CAACxB,KAAK,CAAC,CAC7BN,QAAQ,CAAC,MAAM,CAAE8B,IAAI,CAAClB,IAAI,CAAC,CAC3BtB,WAAW,CAACwC,IAAI,CAACG,KAAK,CAAC,CACvBxC,eAAe,CAACgB,4CAAK,CAACqB,IAAI,CAACJ,WAAW,CAAC,CAACf,MAAM,CAAC,YAAY,CAAC,CAAC,CAC/D,CACA;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLjE,QAAQ,CACRC,YAAY,CACZC,QAAQ,CACRC,MAAM,CACNyC,WAAW,CACXD,QAAQ,CACRG,YAAY,CACZC,eACF,CAAC,CACH,CAAC,CAEcN,uEAAc,E","file":"x","sourcesContent":["import React, { useContext } from \"react\";\nimport { Button } from \"@windmill/react-ui\";\n\nimport Error from \"../components/form/Error\";\nimport useAdminSubmit from \"../hooks/useAdminSubmit\";\nimport LabelArea from \"../components/form/LabelArea\";\nimport InputArea from \"../components/form/InputArea\";\nimport { AdminContext } from \"../context/AdminContext\";\nimport SelectRole from \"../components/form/SelectRole\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport useSettingsSubmit from \"../hooks/useSettingsSubmit\";\n\nconst WoocommerceSettings = () => {\n  const {\n    state: { adminInfo, token },\n  } = useContext(AdminContext);\n\n  const { register, handleSubmit, onSubmit, errors } = useSettingsSubmit(\n    adminInfo._id\n  );\n  var validateWebsiteUrl = (websiteUrl) => {\n    const urlRegEx =\n      \"[-a-zA-Z0-9@:%_+.~#?&//=]{2,256}(.[a-z]{2,4})?\\b(/[-a-zA-Z0-9@:%_+.~#?&//=]*)?\";\n    return urlRegEx.test(String(websiteUrl).toLowerCase());\n  };\n\n  return (\n    <>\n      <PageTitle>Woocommerce Settings</PageTitle>\n      <div className=\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\">\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n              <LabelArea label=\"Woocommerce Shop Url\" />\n              <div className=\"col-span-8 sm:col-span-4\">\n                <InputArea\n                  register={register}\n                  defaultValue=\"\"\n                  label=\"Woocommerce Shop Url\"\n                  name=\"wcUrl\"\n                  type=\"wcUrl\"\n                  placeholder=\"Url\"\n                />\n                <Error errorName={errors.wcUrl} />\n              </div>\n            </div>\n          </div>\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n              <LabelArea label=\" Security Key\" />\n              <div className=\"col-span-8 sm:col-span-4\">\n                <InputArea\n                  register={register}\n                  defaultValue=\"\"\n                  label=\"SecurityKey \"\n                  name=\"wcSecretKey\"\n                  type=\"wcSecretKey\"\n                  placeholder=\"security key\"\n                />\n                <Error errorName={errors.wcSecretKey} />\n              </div>\n            </div>\n          </div>\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n              <LabelArea label=\"Consumer Key\" />\n              <div className=\"col-span-8 sm:col-span-4\">\n                <InputArea\n                  register={register}\n                  defaultValue=\"\"\n                  label=\"ConsumerKey \"\n                  name=\"wcConsumerKey\"\n                  type=\"wcConsumerKey\"\n                  placeholder=\"consumer key\"\n                />\n                <Error errorName={errors.wcConsumerKey} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex flex-row-reverse pr-6 pb-6\">\n            <Button type=\"submit\" className=\"h-12 px-6\">\n              Update Settings\n            </Button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default WoocommerceSettings;\n","import React from \"react\";\nimport { Select } from \"@windmill/react-ui\";\n\nconst SelectRole = ({ setRole, register, name, label }) => {\n  return (\n    <>\n      <Select\n        onChange={(e) => setRole(e.target.value)}\n        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n        name={name}\n        {...register(`${name}`, {\n          required: `${label} is required!`,\n        })}\n      >\n        <option value=\"\" defaultValue hidden>\n          Admin role\n        </option>\n        <option value=\"admin\">Admin</option>\n        <option value=\"restricted\">Restricted</option>\n      </Select>\n    </>\n  );\n};\n\nexport default SelectRole;\n","import { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Cookies from \"js-cookie\";\nimport dayjs from \"dayjs\";\nimport { useLocation } from \"react-router\";\n\nimport AdminServices from \"../services/AdminServices\";\nimport { AdminContext } from \"../context/AdminContext\";\nimport { SidebarContext } from \"../context/SidebarContext\";\nimport { notifyError, notifySuccess } from \"../utils/toast\";\n\nconst useAdminSubmit = (id) => {\n  const { state } = useContext(AdminContext);\n  const { adminInfo } = state;\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const location = useLocation();\n  const { isDrawerOpen, closeDrawer, setIsUpdate } = useContext(SidebarContext);\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    clearErrors,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = (data) => {\n    const staffData = {\n      email: data.email,\n      password: data.password,\n      joiningDate: selectedDate\n        ? selectedDate\n        : dayjs(new Date()).format(\"YYYY-MM-DD\"),\n      role: data.role,\n    };\n\n    if (id) {\n      AdminServices.updateAdmin(id, { email: adminInfo.email, data: staffData })\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"Admin Updated Successfully!\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeDrawer();\n    } else {\n      AdminServices.addAdmin(staffData)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(res.message);\n        })\n        .catch((err) => notifyError(err.message));\n      closeDrawer();\n    }\n  };\n\n  useEffect(() => {\n    if (!isDrawerOpen) {\n      setValue(\"email\");\n      setValue(\"password\");\n      setValue(\"joiningDate\");\n      setValue(\"role\");\n      clearErrors(\"email\");\n      clearErrors(\"password\");\n      clearErrors(\"joiningDate\");\n      clearErrors(\"role\");\n      return;\n    }\n    if (id) {\n      AdminServices.getAdminById(id)\n        .then((res) => {\n          if (res) {\n            setValue(\"email\", res.admin.email);\n            setValue(\"password\");\n            setValue(\"joiningDate\", res.admin.joiningData);\n            setValue(\"role\", res.admin.role);\n            setSelectedDate(dayjs(res.joiningData).format(\"YYYY-MM-DD\"));\n          }\n        })\n        .catch((err) => {\n          notifyError(\"There is a server error!\");\n        });\n    }\n  }, [id, setValue, isDrawerOpen, adminInfo.email, clearErrors]);\n\n  useEffect(() => {\n    if (\n      location.pathname === \"/setting\" ||\n      (location.pathname === \"/edit-profile\" && Cookies.get(\"adminInfo\"))\n    ) {\n      const user = JSON.parse(Cookies.get(\"adminInfo\"));\n      setValue(\"email\", user.email);\n      setValue(\"role\", user.role);\n      setImageUrl(user.image);\n      setSelectedDate(dayjs(user.joiningData).format(\"YYYY-MM-DD\"));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    register,\n    handleSubmit,\n    onSubmit,\n    errors,\n    setImageUrl,\n    imageUrl,\n    selectedDate,\n    setSelectedDate,\n  };\n};\n\nexport default useAdminSubmit;\n"]}}