{"code":"(this.webpackJsonptokshop=this.webpackJsonptokshop||[]).push([[19],{202:function(e,a,t){\"use strict\";t.r(a);var r=t(0),s=t(16),l=t(43),c=t(71),i=t(44),n=t(47),o=t(11),d=t(61),m=t(45),j=t(1);a.default=()=>{const{state:{adminInfo:e,token:a}}=Object(r.useContext)(o.a),{register:t,handleSubmit:b,onSubmit:g,errors:u,imageUrl:p,setImageUrl:h}=Object(c.a)(e._id);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a,{children:\"Admin Settings\"}),Object(j.jsx)(\"div\",{className:\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\",children:Object(j.jsxs)(\"form\",{onSubmit:b(g),children:[Object(j.jsx)(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:Object(j.jsxs)(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[Object(j.jsx)(i.a,{label:\"Your Role\"}),Object(j.jsxs)(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[Object(j.jsx)(d.a,{register:t,label:\"Role\",name:\"role\"}),Object(j.jsx)(l.a,{errorName:u.role})]})]})}),Object(j.jsx)(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:Object(j.jsxs)(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[Object(j.jsx)(i.a,{label:\"Wooocommerce Security Key\"}),Object(j.jsxs)(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[Object(j.jsx)(n.a,{register:t,defaultValue:\"\",label:\"SecurityKey \",name:\"wcSecretKey\",type:\"wcSecretKey\",placeholder:\"security key\"}),Object(j.jsx)(l.a,{errorName:u.role})]})]})}),Object(j.jsx)(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:Object(j.jsxs)(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[Object(j.jsx)(i.a,{label:\"Wooocommerce Consumer Key\"}),Object(j.jsxs)(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[Object(j.jsx)(n.a,{register:t,defaultValue:\"\",label:\"ConsumerKey \",name:\"wcConsumerKey\",type:\"wcConsumerKey\",placeholder:\"consumer key\"}),Object(j.jsx)(l.a,{errorName:u.role})]})]})}),Object(j.jsx)(\"div\",{className:\"flex flex-row-reverse pr-6 pb-6\",children:Object(j.jsx)(s.Button,{type:\"submit\",className:\"h-12 px-6\",children:\"Update Settings\"})})]})})]})}},61:function(e,a,t){\"use strict\";t(0);var r=t(16),s=t(1);a.a=e=>{let{setRole:a,register:t,name:l,label:c}=e;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(r.Select,{onChange:e=>a(e.target.value),className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\",name:l,...t(`${l}`,{required:`${c} is required!`}),children:[Object(s.jsx)(\"option\",{value:\"\",defaultValue:!0,hidden:!0,children:\"Admin role\"}),Object(s.jsx)(\"option\",{value:\"admin\",children:\"Admin\"}),Object(s.jsx)(\"option\",{value:\"restricted\",children:\"Restricted\"})]})})}},71:function(e,a,t){\"use strict\";var r=t(0),s=t(53),l=t(8),c=t.n(l),i=t(48),n=t.n(i),o=t(2),d=t(49),m=t(11),j=t(17),b=t(18);a.a=e=>{const{state:a}=Object(r.useContext)(m.a),{adminInfo:t}=a,[l,i]=Object(r.useState)(\"\"),[g,u]=Object(r.useState)(\"\"),p=Object(o.h)(),{isDrawerOpen:h,closeDrawer:x,setIsUpdate:O}=Object(r.useContext)(j.a),{register:f,handleSubmit:w,setValue:v,clearErrors:y,formState:{errors:S}}=Object(s.a)();return Object(r.useEffect)((()=>{if(!h)return v(\"email\"),v(\"password\"),v(\"joiningDate\"),v(\"role\"),y(\"email\"),y(\"password\"),y(\"joiningDate\"),void y(\"role\");e&&d.a.getAdminById(e).then((e=>{e&&(v(\"email\",e.admin.email),v(\"password\"),v(\"joiningDate\",e.admin.joiningData),v(\"role\",e.admin.role),u(n()(e.joiningData).format(\"YYYY-MM-DD\")))})).catch((e=>{Object(b.b)(\"There is a server error!\")}))}),[e,v,h,t.email,y]),Object(r.useEffect)((()=>{if(\"/setting\"===p.pathname||\"/edit-profile\"===p.pathname&&c.a.get(\"adminInfo\")){const e=JSON.parse(c.a.get(\"adminInfo\"));v(\"email\",e.email),v(\"role\",e.role),i(e.image),u(n()(e.joiningData).format(\"YYYY-MM-DD\"))}}),[]),{register:f,handleSubmit:w,onSubmit:a=>{const r={email:a.email,password:a.password,joiningDate:g||n()(new Date).format(\"YYYY-MM-DD\"),role:a.role};e?(d.a.updateAdmin(e,{email:t.email,data:r}).then((e=>{O(!0),Object(b.c)(\"Admin Updated Successfully!\")})).catch((e=>Object(b.b)(e.message))),x()):(d.a.addAdmin(r).then((e=>{O(!0),Object(b.c)(e.message)})).catch((e=>Object(b.b)(e.message))),x())},errors:S,setImageUrl:i,imageUrl:l,selectedDate:g,setSelectedDate:u}}}}]);","name":"static/js/19.050ec021.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react__WEBPACK_IMPORTED_MODULE_0__","_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__","_components_form_Error__WEBPACK_IMPORTED_MODULE_2__","_hooks_useAdminSubmit__WEBPACK_IMPORTED_MODULE_3__","_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__","_components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__","_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__","_components_form_SelectRole__WEBPACK_IMPORTED_MODULE_7__","_components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__","state","adminInfo","token","Object","register","handleSubmit","onSubmit","errors","imageUrl","setImageUrl","_id","children","className","label","name","errorName","role","defaultValue","type","placeholder","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","_ref","setRole","onChange","e","target","value","required","hidden","react_hook_form__WEBPACK_IMPORTED_MODULE_1__","js_cookie__WEBPACK_IMPORTED_MODULE_2__","js_cookie__WEBPACK_IMPORTED_MODULE_2___default","n","dayjs__WEBPACK_IMPORTED_MODULE_3__","dayjs__WEBPACK_IMPORTED_MODULE_3___default","react_router__WEBPACK_IMPORTED_MODULE_4__","_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__","_context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__","_utils_toast__WEBPACK_IMPORTED_MODULE_8__","id","selectedDate","setSelectedDate","location","isDrawerOpen","closeDrawer","setIsUpdate","setValue","clearErrors","formState","getAdminById","then","res","admin","email","joiningData","format","catch","err","pathname","a","get","user","JSON","parse","image","data","staffData","password","joiningDate","Date","updateAdmin","message","addAdmin"],"sources":["static/js/19.050ec021.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonptokshop\"] = this[\"webpackJsonptokshop\"] || []).push([[19],{\n\n/***/ 202:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_form_Error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(43);\n/* harmony import */ var _hooks_useAdminSubmit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71);\n/* harmony import */ var _components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44);\n/* harmony import */ var _components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47);\n/* harmony import */ var _context_AdminContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var _components_form_SelectRole__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61);\n/* harmony import */ var _components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(45);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);\nconst EditProfile=()=>{const{state:{adminInfo,token}}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__[/* AdminContext */ \"a\"]);const{register,handleSubmit,onSubmit,errors,imageUrl,setImageUrl}=Object(_hooks_useAdminSubmit__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(adminInfo._id);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_Typography_PageTitle__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{children:\"Admin Settings\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{label:\"Your Role\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_SelectRole__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],{register:register,label:\"Role\",name:\"role\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_Error__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{errorName:errors.role})]})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{label:\"Wooocommerce Security Key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{register:register,defaultValue:\"\",label:\"SecurityKey \",name:\"wcSecretKey\",type:\"wcSecretKey\",placeholder:\"security key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_Error__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{errorName:errors.role})]})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"p-6 flex-grow scrollbar-hide w-full max-h-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_LabelArea__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{label:\"Wooocommerce Consumer Key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"col-span-8 sm:col-span-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_InputArea__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{register:register,defaultValue:\"\",label:\"ConsumerKey \",name:\"wcConsumerKey\",type:\"wcConsumerKey\",placeholder:\"consumer key\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_components_form_Error__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{errorName:errors.role})]})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"flex flex-row-reverse pr-6 pb-6\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"],{type:\"submit\",className:\"h-12 px-6\",children:\"Update Settings\"})})]})})]});};/* harmony default export */ __webpack_exports__[\"default\"] = (EditProfile);\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);\n/* harmony import */ var _windmill_react_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\nconst SelectRole=_ref=>{let{setRole,register,name,label}=_ref;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(_windmill_react_ui__WEBPACK_IMPORTED_MODULE_1__[\"Select\"],{onChange:e=>setRole(e.target.value),className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\",name:name,...register(`${name}`,{required:`${label} is required!`}),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"\",defaultValue:true,hidden:true,children:\"Admin role\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"option\",{value:\"restricted\",children:\"Restricted\"})]})});};/* harmony default export */ __webpack_exports__[\"a\"] = (SelectRole);\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(48);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2);\n/* harmony import */ var _services_AdminServices__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(49);\n/* harmony import */ var _context_AdminContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var _context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(17);\n/* harmony import */ var _utils_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18);\nconst useAdminSubmit=id=>{const{state}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_AdminContext__WEBPACK_IMPORTED_MODULE_6__[/* AdminContext */ \"a\"]);const{adminInfo}=state;const[imageUrl,setImageUrl]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");const[selectedDate,setSelectedDate]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");const location=Object(react_router__WEBPACK_IMPORTED_MODULE_4__[/* useLocation */ \"h\"])();const{isDrawerOpen,closeDrawer,setIsUpdate}=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_SidebarContext__WEBPACK_IMPORTED_MODULE_7__[/* SidebarContext */ \"a\"]);const{register,handleSubmit,setValue,clearErrors,formState:{errors}}=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_1__[/* useForm */ \"a\"])();const onSubmit=data=>{const staffData={email:data.email,password:data.password,joiningDate:selectedDate?selectedDate:dayjs__WEBPACK_IMPORTED_MODULE_3___default()(new Date()).format(\"YYYY-MM-DD\"),role:data.role};if(id){_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].updateAdmin(id,{email:adminInfo.email,data:staffData}).then(res=>{setIsUpdate(true);Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifySuccess */ \"c\"])(\"Admin Updated Successfully!\");}).catch(err=>Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(err.message));closeDrawer();}else{_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].addAdmin(staffData).then(res=>{setIsUpdate(true);Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifySuccess */ \"c\"])(res.message);}).catch(err=>Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(err.message));closeDrawer();}};Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{if(!isDrawerOpen){setValue(\"email\");setValue(\"password\");setValue(\"joiningDate\");setValue(\"role\");clearErrors(\"email\");clearErrors(\"password\");clearErrors(\"joiningDate\");clearErrors(\"role\");return;}if(id){_services_AdminServices__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].getAdminById(id).then(res=>{if(res){setValue(\"email\",res.admin.email);setValue(\"password\");setValue(\"joiningDate\",res.admin.joiningData);setValue(\"role\",res.admin.role);setSelectedDate(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(res.joiningData).format(\"YYYY-MM-DD\"));}}).catch(err=>{Object(_utils_toast__WEBPACK_IMPORTED_MODULE_8__[/* notifyError */ \"b\"])(\"There is a server error!\");});}},[id,setValue,isDrawerOpen,adminInfo.email,clearErrors]);Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{if(location.pathname===\"/setting\"||location.pathname===\"/edit-profile\"&&js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"adminInfo\")){const user=JSON.parse(js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"adminInfo\"));setValue(\"email\",user.email);setValue(\"role\",user.role);setImageUrl(user.image);setSelectedDate(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(user.joiningData).format(\"YYYY-MM-DD\"));}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return{register,handleSubmit,onSubmit,errors,setImageUrl,imageUrl,selectedDate,setSelectedDate};};/* harmony default export */ __webpack_exports__[\"a\"] = (useAdminSubmit);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/var/www/admin/src/pages/EditProfile.js","/var/www/admin/src/components/form/SelectRole.js","/var/www/admin/src/hooks/useAdminSubmit.js"],"names":["EditProfile","state","adminInfo","token","useContext","AdminContext","register","handleSubmit","onSubmit","errors","imageUrl","setImageUrl","useAdminSubmit","_id","_jsxs","_Fragment","children","_jsx","PageTitle","className","LabelArea","label","SelectRole","name","Error","errorName","role","InputArea","defaultValue","type","placeholder","Button","_ref","setRole","Select","onChange","e","target","value","required","hidden","id","useState","selectedDate","setSelectedDate","location","useLocation","isDrawerOpen","closeDrawer","setIsUpdate","SidebarContext","setValue","clearErrors","formState","useForm","data","staffData","email","password","joiningDate","dayjs","Date","format","AdminServices","updateAdmin","then","res","notifySuccess","catch","err","notifyError","message","addAdmin","useEffect","getAdminById","admin","joiningData","pathname","Cookies","get","user","JSON","parse","image"],"mappings":"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","file":"x","sourcesContent":["import React, { useContext } from \"react\";\nimport { Button } from \"@windmill/react-ui\";\n\nimport Error from \"../components/form/Error\";\nimport useAdminSubmit from \"../hooks/useAdminSubmit\";\nimport LabelArea from \"../components/form/LabelArea\";\nimport InputArea from \"../components/form/InputArea\";\nimport { AdminContext } from \"../context/AdminContext\";\nimport SelectRole from \"../components/form/SelectRole\";\nimport PageTitle from \"../components/Typography/PageTitle\";\n\nconst EditProfile = () => {\n  const {\n    state: { adminInfo, token },\n  } = useContext(AdminContext);\n\n  const { register, handleSubmit, onSubmit, errors, imageUrl, setImageUrl } =\n    useAdminSubmit(adminInfo._id);\n\n  return (\n    <>\n      <PageTitle>Admin Settings</PageTitle>\n      <div className=\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\">\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n              <LabelArea label=\"Your Role\" />\n              <div className=\"col-span-8 sm:col-span-4\">\n                <SelectRole register={register} label=\"Role\" name=\"role\" />\n                <Error errorName={errors.role} />\n              </div>\n            </div>\n          </div>\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n              <LabelArea label=\"Wooocommerce Security Key\" />\n              <div className=\"col-span-8 sm:col-span-4\">\n                <InputArea\n                  register={register}\n                  defaultValue=\"\"\n                  label=\"SecurityKey \"\n                  name=\"wcSecretKey\"\n                  type=\"wcSecretKey\"\n                  placeholder=\"security key\"\n                />\n                <Error errorName={errors.role} />\n              </div>\n            </div>\n          </div>\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\n              <LabelArea label=\"Wooocommerce Consumer Key\" />\n              <div className=\"col-span-8 sm:col-span-4\">\n                <InputArea\n                  register={register}\n                  defaultValue=\"\"\n                  label=\"ConsumerKey \"\n                  name=\"wcConsumerKey\"\n                  type=\"wcConsumerKey\"\n                  placeholder=\"consumer key\"\n                />\n                <Error errorName={errors.role} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex flex-row-reverse pr-6 pb-6\">\n            <Button type=\"submit\" className=\"h-12 px-6\">\n              Update Settings\n            </Button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default EditProfile;\n","import React from \"react\";\nimport { Select } from \"@windmill/react-ui\";\n\nconst SelectRole = ({ setRole, register, name, label }) => {\n  return (\n    <>\n      <Select\n        onChange={(e) => setRole(e.target.value)}\n        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n        name={name}\n        {...register(`${name}`, {\n          required: `${label} is required!`,\n        })}\n      >\n        <option value=\"\" defaultValue hidden>\n          Admin role\n        </option>\n        <option value=\"admin\">Admin</option>\n        <option value=\"restricted\">Restricted</option>\n      </Select>\n    </>\n  );\n};\n\nexport default SelectRole;\n","import { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Cookies from \"js-cookie\";\nimport dayjs from \"dayjs\";\nimport { useLocation } from \"react-router\";\n\nimport AdminServices from \"../services/AdminServices\";\nimport { AdminContext } from \"../context/AdminContext\";\nimport { SidebarContext } from \"../context/SidebarContext\";\nimport { notifyError, notifySuccess } from \"../utils/toast\";\n\nconst useAdminSubmit = (id) => {\n  const { state } = useContext(AdminContext);\n  const { adminInfo } = state;\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const location = useLocation();\n  const { isDrawerOpen, closeDrawer, setIsUpdate } = useContext(SidebarContext);\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    clearErrors,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = (data) => {\n    const staffData = {\n      email: data.email,\n      password: data.password,\n      joiningDate: selectedDate\n        ? selectedDate\n        : dayjs(new Date()).format(\"YYYY-MM-DD\"),\n      role: data.role,\n    };\n\n    if (id) {\n      AdminServices.updateAdmin(id, { email: adminInfo.email, data: staffData })\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"Admin Updated Successfully!\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeDrawer();\n    } else {\n      AdminServices.addAdmin(staffData)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(res.message);\n        })\n        .catch((err) => notifyError(err.message));\n      closeDrawer();\n    }\n  };\n\n  useEffect(() => {\n    if (!isDrawerOpen) {\n      setValue(\"email\");\n      setValue(\"password\");\n      setValue(\"joiningDate\");\n      setValue(\"role\");\n      clearErrors(\"email\");\n      clearErrors(\"password\");\n      clearErrors(\"joiningDate\");\n      clearErrors(\"role\");\n      return;\n    }\n    if (id) {\n      AdminServices.getAdminById(id)\n        .then((res) => {\n          if (res) {\n            setValue(\"email\", res.admin.email);\n            setValue(\"password\");\n            setValue(\"joiningDate\", res.admin.joiningData);\n            setValue(\"role\", res.admin.role);\n            setSelectedDate(dayjs(res.joiningData).format(\"YYYY-MM-DD\"));\n          }\n        })\n        .catch((err) => {\n          notifyError(\"There is a server error!\");\n        });\n    }\n  }, [id, setValue, isDrawerOpen, adminInfo.email, clearErrors]);\n\n  useEffect(() => {\n    if (\n      location.pathname === \"/setting\" ||\n      (location.pathname === \"/edit-profile\" && Cookies.get(\"adminInfo\"))\n    ) {\n      const user = JSON.parse(Cookies.get(\"adminInfo\"));\n      setValue(\"email\", user.email);\n      setValue(\"role\", user.role);\n      setImageUrl(user.image);\n      setSelectedDate(dayjs(user.joiningData).format(\"YYYY-MM-DD\"));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    register,\n    handleSubmit,\n    onSubmit,\n    errors,\n    setImageUrl,\n    imageUrl,\n    selectedDate,\n    setSelectedDate,\n  };\n};\n\nexport default useAdminSubmit;\n"]}}