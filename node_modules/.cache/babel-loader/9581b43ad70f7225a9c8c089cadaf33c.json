{"ast":null,"code":"import React,{useContext}from\"react\";import{Table,TableHeader,TableCell,TableFooter,TableContainer,Input,Card,CardBody,Pagination}from\"@windmill/react-ui\";import useAsync from\"../hooks/useAsync\";import useFilter from\"../hooks/useFilter\";import NotFound from\"../components/table/NotFound\";import Loading from\"../components/preloader/Loading\";import ShopServices from\"../services/ShopServices\";import PageTitle from\"../components/Typography/PageTitle\";import{SidebarContext}from\"../context/SidebarContext\";import ShopTable from\"../components/shops/ShopTable\";import MainDrawer from\"../components/drawer/MainDrawer\";import ProductDrawer from\"../components/drawer/ProductDrawer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Shops=()=>{const{currentPage,handleChangePage,searchText,searchRef,handleSubmitForAll,limitData}=useContext(SidebarContext);const{data,loading}=useAsync(()=>ShopServices.getAllShops({page:currentPage,limit:limitData,title:searchText}));const{serviceData,handleOnDrop,handleUploadProducts}=useFilter(data.shops);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageTitle,{children:\"Shops\"}),/*#__PURE__*/_jsx(MainDrawer,{children:/*#__PURE__*/_jsx(ProductDrawer,{})}),/*#__PURE__*/_jsx(Card,{className:\"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\",children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitForAll,className:\"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow\",children:[/*#__PURE__*/_jsx(Input,{ref:searchRef,className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white\",type:\"search\",name:\"search\",placeholder:\"Search by shop name\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"absolute right-0 top-0 mt-5 mr-1\"})]})})})}),loading?/*#__PURE__*/_jsx(Loading,{loading:loading}):serviceData.length!==0?/*#__PURE__*/_jsxs(TableContainer,{className:\"mb-8 rounded-b-lg\",children:[/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Shop name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Shop Owner\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Location\"}),/*#__PURE__*/_jsx(TableCell,{className:\"text-center\",children:\"Active\"}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(ShopTable,{shops:data.shops})]}),/*#__PURE__*/_jsx(TableFooter,{children:/*#__PURE__*/_jsx(Pagination,{totalResults:data===null||data===void 0?void 0:data.totalDoc,resultsPerPage:limitData,onChange:handleChangePage,label:\"Product Page Navigation\"})})]}):/*#__PURE__*/_jsx(NotFound,{title:\"Product\"})]});};export default Shops;","map":{"version":3,"names":["React","useContext","Table","TableHeader","TableCell","TableFooter","TableContainer","Input","Card","CardBody","Pagination","useAsync","useFilter","NotFound","Loading","ShopServices","PageTitle","SidebarContext","ShopTable","MainDrawer","ProductDrawer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Shops","currentPage","handleChangePage","searchText","searchRef","handleSubmitForAll","limitData","data","loading","getAllShops","page","limit","title","serviceData","handleOnDrop","handleUploadProducts","shops","children","className","onSubmit","ref","type","name","placeholder","length","totalResults","totalDoc","resultsPerPage","onChange","label"],"sources":["/var/www/admin/src/pages/Shops.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport {\n  Table,\n  TableHeader,\n  TableCell,\n  TableFooter,\n  TableContainer,\n  Input,\n  Card,\n  CardBody,\n  Pagination,\n} from \"@windmill/react-ui\";\n\nimport useAsync from \"../hooks/useAsync\";\nimport useFilter from \"../hooks/useFilter\";\nimport NotFound from \"../components/table/NotFound\";\nimport Loading from \"../components/preloader/Loading\";\nimport ShopServices from \"../services/ShopServices\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport { SidebarContext } from \"../context/SidebarContext\";\nimport ShopTable from \"../components/shops/ShopTable\";\nimport MainDrawer from \"../components/drawer/MainDrawer\";\nimport ProductDrawer from \"../components/drawer/ProductDrawer\";\n\nconst Shops = () => {\n  const {\n    currentPage,\n    handleChangePage,\n    searchText,\n    searchRef,\n    handleSubmitForAll,\n    limitData,\n  } = useContext(SidebarContext);\n\n  const { data, loading } = useAsync(() =>\n    ShopServices.getAllShops({\n      page: currentPage,\n      limit: limitData,\n      title: searchText,\n    })\n  );\n\n\n  const { serviceData, handleOnDrop, handleUploadProducts } = useFilter(\n    data.shops\n  );\n\n  return (\n    <>\n      <PageTitle>Shops</PageTitle>\n      <MainDrawer>\n        <ProductDrawer />\n      </MainDrawer>\n\n      <Card className=\"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\">\n        <CardBody>\n          <form\n            onSubmit={handleSubmitForAll}\n            className=\"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex\"\n          >\n            <div className=\"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow\">\n              <Input\n                ref={searchRef}\n                className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white\"\n                type=\"search\"\n                name=\"search\"\n                placeholder=\"Search by shop name\"\n              />\n              <button\n                type=\"submit\"\n                className=\"absolute right-0 top-0 mt-5 mr-1\"\n              ></button>\n            </div>\n          </form>\n        </CardBody>\n      </Card>\n      {loading ? (\n        <Loading loading={loading} />\n      ) : serviceData.length !== 0 ? (\n        <TableContainer className=\"mb-8 rounded-b-lg\">\n          <Table>\n            <TableHeader>\n              <tr>\n                <TableCell>Shop name</TableCell>\n                <TableCell>Shop Owner</TableCell>\n                <TableCell>Status</TableCell>\n                <TableCell>Location</TableCell>\n                <TableCell className=\"text-center\">Active</TableCell>\n                <TableCell className=\"text-right\">Actions</TableCell>\n              </tr>\n            </TableHeader>\n            <ShopTable shops={data.shops} />\n          </Table>\n          <TableFooter>\n            <Pagination\n              totalResults={data?.totalDoc}\n              resultsPerPage={limitData}\n              onChange={handleChangePage}\n              label=\"Product Page Navigation\"\n            />\n          </TableFooter>\n        </TableContainer>\n      ) : (\n        <NotFound title=\"Product\" />\n      )}\n    </>\n  );\n};\n\nexport default Shops;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}