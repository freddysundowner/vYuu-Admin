{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import{Link}from'react-router-dom';import Cookies from'js-cookie';import{Avatar,Badge,WindmillContext}from'@windmill/react-ui';import{Scrollbars}from'react-custom-scrollbars-2';import{IoMenu,IoMoonSharp,IoSettingsOutline,IoSunny,IoNotificationsSharp,IoLogOutOutline,IoGridOutline,IoClose}from'react-icons/io5';import{AdminContext}from'../../context/AdminContext';import{SidebarContext}from'../../context/SidebarContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const{toggleSidebar}=useContext(SidebarContext);const{state,dispatch}=useContext(AdminContext);const{adminInfo}=state;const{mode,toggleMode}=useContext(WindmillContext);const[profileOpen,setProfileOpen]=useState(false);const[notificationOpen,setNotificationOpen]=useState(false);const pRef=useRef();const nRef=useRef();const handleLogOut=()=>{dispatch({type:'USER_LOGOUT'});Cookies.remove('adminInfo');};console.log(adminInfo);useEffect(()=>{const handleClickOutside=e=>{var _pRef$current,_nRef$current;if(!(pRef!==null&&pRef!==void 0&&(_pRef$current=pRef.current)!==null&&_pRef$current!==void 0&&_pRef$current.contains(e.target))){setProfileOpen(false);}if(!(nRef!==null&&nRef!==void 0&&(_nRef$current=nRef.current)!==null&&_nRef$current!==void 0&&_nRef$current.contains(e.target))){setNotificationOpen(false);}};document.addEventListener('mousedown',handleClickOutside);},[pRef,nRef]);const handleNotificationOpen=()=>{setNotificationOpen(!notificationOpen);setProfileOpen(false);};const handleProfileOpen=()=>{setProfileOpen(!profileOpen);setNotificationOpen(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"header\",{className:\"z-40 py-4 bg-white shadow-sm dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container flex items-center justify-between h-full px-6 mx-auto text-green-500 dark:text-green-500\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-1 mr-5 -ml-1 rounded-md lg:hidden focus:outline-none\",onClick:toggleSidebar,\"aria-label\":\"Menu\",children:/*#__PURE__*/_jsx(IoMenu,{className:\"w-6 h-6\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"ul\",{className:\"flex justify-end items-center flex-shrink-0 space-x-6\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"relative inline-block text-left\",ref:pRef,children:[/*#__PURE__*/_jsx(\"button\",{className:\"rounded-full dark:bg-gray-500 bg-green-500 text-white h-8 w-8 font-medium mx-auto focus:outline-none\",onClick:handleProfileOpen,children:adminInfo.image?/*#__PURE__*/_jsx(Avatar,{className:\"align-middle\",src:`${adminInfo.image}`,\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(\"span\",{children:adminInfo.email[0].toUpperCase()})}),profileOpen&&/*#__PURE__*/_jsxs(\"ul\",{className:\"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"justify-between font-serif font-medium py-2 pl-4 transition-colors duration-150 hover:bg-gray-100 text-gray-500 hover:text-green-500 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center text-sm\",children:[/*#__PURE__*/_jsx(IoGridOutline,{className:\"w-4 h-4 mr-3\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]})})}),/*#__PURE__*/_jsx(\"li\",{onClick:handleLogOut,className:\"cursor-pointer justify-between font-serif font-medium py-2 pl-4 transition-colors duration-150 hover:bg-gray-100 text-gray-500 hover:text-green-500 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center text-sm\",children:[/*#__PURE__*/_jsx(IoLogOutOutline,{className:\"w-4 h-4 mr-3\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Log out\"})]})})]})]})})]})})});};export default Header;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","Link","Cookies","Avatar","Badge","WindmillContext","Scrollbars","IoMenu","IoMoonSharp","IoSettingsOutline","IoSunny","IoNotificationsSharp","IoLogOutOutline","IoGridOutline","IoClose","AdminContext","SidebarContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","toggleSidebar","state","dispatch","adminInfo","mode","toggleMode","profileOpen","setProfileOpen","notificationOpen","setNotificationOpen","pRef","nRef","handleLogOut","type","remove","console","log","handleClickOutside","e","_pRef$current","_nRef$current","current","contains","target","document","addEventListener","handleNotificationOpen","handleProfileOpen","children","className","onClick","ref","image","src","email","toUpperCase","to"],"sources":["/var/www/admin/src/components/header/Header.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport { Avatar, Badge, WindmillContext } from '@windmill/react-ui';\nimport { Scrollbars } from 'react-custom-scrollbars-2';\nimport {\n  IoMenu,\n  IoMoonSharp,\n  IoSettingsOutline,\n  IoSunny,\n  IoNotificationsSharp,\n  IoLogOutOutline,\n  IoGridOutline,\n  IoClose,\n} from 'react-icons/io5';\n\nimport { AdminContext } from '../../context/AdminContext';\nimport { SidebarContext } from '../../context/SidebarContext';\n\nconst Header = () => {\n  const { toggleSidebar } = useContext(SidebarContext);\n  const { state, dispatch } = useContext(AdminContext);\n  const { adminInfo } = state;\n  const { mode, toggleMode } = useContext(WindmillContext);\n  const [profileOpen, setProfileOpen] = useState(false);\n  const [notificationOpen, setNotificationOpen] = useState(false);\n  const pRef = useRef();\n  const nRef = useRef();\n\n  const handleLogOut = () => {\n    dispatch({ type: 'USER_LOGOUT' });\n    Cookies.remove('adminInfo');\n  };\nconsole.log(adminInfo);\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (!pRef?.current?.contains(e.target)) {\n        setProfileOpen(false);\n      }\n      if (!nRef?.current?.contains(e.target)) {\n        setNotificationOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n  }, [pRef, nRef]);\n\n  const handleNotificationOpen = () => {\n    setNotificationOpen(!notificationOpen);\n    setProfileOpen(false);\n  };\n  const handleProfileOpen = () => {\n    setProfileOpen(!profileOpen);\n    setNotificationOpen(false);\n  };\n\n  return (\n    <>\n      <header className=\"z-40 py-4 bg-white shadow-sm dark:bg-gray-800\">\n        <div className=\"container flex items-center justify-between h-full px-6 mx-auto text-green-500 dark:text-green-500\">\n          {/* <!-- Mobile hamburger --> */}\n          <button\n            className=\"p-1 mr-5 -ml-1 rounded-md lg:hidden focus:outline-none\"\n            onClick={toggleSidebar}\n            aria-label=\"Menu\"\n          >\n            <IoMenu className=\"w-6 h-6\" aria-hidden=\"true\" />\n          </button>\n          <span></span>\n\n          <ul className=\"flex justify-end items-center flex-shrink-0 space-x-6\">\n            {/* <!-- Theme toggler --> */}\n            {/* <li className=\"flex\">\n              <button\n                className=\"rounded-md focus:outline-none\"\n                onClick={toggleMode}\n                aria-label=\"Toggle color mode\"\n              >\n                {mode === 'dark' ? (\n                  <IoSunny className=\"w-5 h-5\" aria-hidden=\"true\" />\n                ) : (\n                  <IoMoonSharp className=\"w-5 h-5\" aria-hidden=\"true\" />\n                )}\n              </button>\n            </li> */}\n\n            {/* <!-- Profile menu --> */}\n            <li className=\"relative inline-block text-left\" ref={pRef}>\n              <button\n                className=\"rounded-full dark:bg-gray-500 bg-green-500 text-white h-8 w-8 font-medium mx-auto focus:outline-none\"\n                onClick={handleProfileOpen}\n              >\n                {adminInfo.image ? (\n                  <Avatar\n                    className=\"align-middle\"\n                    src={`${adminInfo.image}`}\n                    aria-hidden=\"true\"\n                  />\n                ) : (\n                  <span>{adminInfo.email[0].toUpperCase()}</span>\n                )}\n              </button>\n              {profileOpen && (\n                <ul className=\"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                  <li className=\"justify-between font-serif font-medium py-2 pl-4 transition-colors duration-150 hover:bg-gray-100 text-gray-500 hover:text-green-500 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200\">\n                    <Link to=\"/dashboard\">\n                      <span className=\"flex items-center text-sm\">\n                        <IoGridOutline\n                          className=\"w-4 h-4 mr-3\"\n                          aria-hidden=\"true\"\n                        />\n                        <span>Dashboard</span>\n                      </span>\n                    </Link>\n                  </li>\n                  <li\n                    onClick={handleLogOut}\n                    className=\"cursor-pointer justify-between font-serif font-medium py-2 pl-4 transition-colors duration-150 hover:bg-gray-100 text-gray-500 hover:text-green-500 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200\"\n                  >\n                    <span className=\"flex items-center text-sm\">\n                      <IoLogOutOutline\n                        className=\"w-4 h-4 mr-3\"\n                        aria-hidden=\"true\"\n                      />\n                      <span>Log out</span>\n                    </span>\n                  </li>\n                </ul>\n              )}\n            </li>\n          </ul>\n        </div>\n      </header>\n    </>\n  );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}