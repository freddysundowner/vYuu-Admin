{"ast":null,"code":"import React,{useContext,Suspense,useEffect,lazy}from\"react\";import{Switch,Route,Redirect,useLocation}from\"react-router-dom\";import Main from\"./Main\";import routes from\"../routes\";import Header from\"../components/header/Header\";import Sidebar from\"../components/sidebar/Sidebar\";import Sidebar2 from\"../routes/sidebar2\";import{SidebarContext}from\"../context/SidebarContext\";import ThemeSuspense from\"../components/theme/ThemeSuspense\";import{AdminContext}from\"../context/AdminContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Page404=/*#__PURE__*/lazy(()=>import(\"../pages/404\"));const Layout=()=>{const{isSidebarOpen,closeSidebar}=useContext(SidebarContext);const{state,dispatch}=useContext(AdminContext);const{adminInfo}=state;let location=useLocation();useEffect(()=>{closeSidebar();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[location]);return/*#__PURE__*/_jsxs(\"div\",{className:`flex h-screen bg-gray-50 dark:bg-gray-900 ${isSidebarOpen&&\"overflow-hidden\"}`,children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-1 w-full\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Main,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(ThemeSuspense,{}),children:/*#__PURE__*/_jsxs(Switch,{children:[routes.map((route,i)=>{return route.component?/*#__PURE__*/_jsx(Route,{exact:true,path:`${route.path}`,render:props=>/*#__PURE__*/_jsx(route.component,{...props})},i):null;}),/*#__PURE__*/_jsx(Redirect,{exact:true,from:\"/\",to:\"/dashboard\"}),/*#__PURE__*/_jsx(Route,{component:Page404})]})})})]})]});};export default Layout;","map":{"version":3,"names":["React","useContext","Suspense","useEffect","lazy","Switch","Route","Redirect","useLocation","Main","routes","Header","Sidebar","Sidebar2","SidebarContext","ThemeSuspense","AdminContext","jsx","_jsx","jsxs","_jsxs","Page404","Layout","isSidebarOpen","closeSidebar","state","dispatch","adminInfo","location","className","children","fallback","map","route","i","component","exact","path","render","props","from","to"],"sources":["/var/www/admin/src/layout/Layout.js"],"sourcesContent":["import React, { useContext, Suspense, useEffect, lazy } from \"react\";\nimport { Switch, Route, Redirect, useLocation } from \"react-router-dom\";\n\nimport Main from \"./Main\";\nimport routes from \"../routes\";\nimport Header from \"../components/header/Header\";\nimport Sidebar from \"../components/sidebar/Sidebar\";\nimport Sidebar2 from \"../routes/sidebar2\";\nimport { SidebarContext } from \"../context/SidebarContext\";\nimport ThemeSuspense from \"../components/theme/ThemeSuspense\";\nimport { AdminContext } from \"../context/AdminContext\";\n\nconst Page404 = lazy(() => import(\"../pages/404\"));\n\nconst Layout = () => {\n  const { isSidebarOpen, closeSidebar } = useContext(SidebarContext);\n  const { state, dispatch } = useContext(AdminContext);\n  const { adminInfo } = state;\n  let location = useLocation();\n\n  useEffect(() => {\n    closeSidebar();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location]);\n\n  return (\n    <div\n      className={`flex h-screen bg-gray-50 dark:bg-gray-900 ${\n        isSidebarOpen && \"overflow-hidden\"\n      }`}\n    >\n      {/* {adminInfo.role == \"admin\" ? */}\n      <Sidebar />\n\n      {/* :<p>sda</p> */}\n\n      <div className=\"flex flex-col flex-1 w-full\">\n        <Header />\n        <Main>\n          <Suspense fallback={<ThemeSuspense />}>\n            <Switch>\n              {routes.map((route, i) => {\n                return route.component ? (\n                  <Route\n                    key={i}\n                    exact={true}\n                    path={`${route.path}`}\n                    render={(props) => <route.component {...props} />}\n                  />\n                ) : null;\n              })}\n              <Redirect exact from=\"/\" to=\"/dashboard\" />\n              <Route component={Page404} />\n            </Switch>\n          </Suspense>\n        </Main>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,IAAI,KAAQ,OAAO,CACpE,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CAEvE,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,MAAO,CAAAC,OAAO,KAAM,+BAA+B,CACnD,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CACzC,OAASC,cAAc,KAAQ,2BAA2B,CAC1D,MAAO,CAAAC,aAAa,KAAM,mCAAmC,CAC7D,OAASC,YAAY,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvD,KAAM,CAAAC,OAAO,cAAGjB,IAAI,CAAC,IAAM,MAAM,CAAC,cAAc,CAAC,CAAC,CAElD,KAAM,CAAAkB,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,aAAa,CAAEC,YAAa,CAAC,CAAGvB,UAAU,CAACa,cAAc,CAAC,CAClE,KAAM,CAAEW,KAAK,CAAEC,QAAS,CAAC,CAAGzB,UAAU,CAACe,YAAY,CAAC,CACpD,KAAM,CAAEW,SAAU,CAAC,CAAGF,KAAK,CAC3B,GAAI,CAAAG,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE5BL,SAAS,CAAC,IAAM,CACdqB,YAAY,CAAC,CAAC,CACd;AACF,CAAC,CAAE,CAACI,QAAQ,CAAC,CAAC,CAEd,mBACER,KAAA,QACES,SAAS,CAAG,6CACVN,aAAa,EAAI,iBAClB,EAAE,CAAAO,QAAA,eAGHZ,IAAA,CAACN,OAAO,GAAE,CAAC,cAIXQ,KAAA,QAAKS,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CZ,IAAA,CAACP,MAAM,GAAE,CAAC,cACVO,IAAA,CAACT,IAAI,EAAAqB,QAAA,cACHZ,IAAA,CAAChB,QAAQ,EAAC6B,QAAQ,cAAEb,IAAA,CAACH,aAAa,GAAE,CAAE,CAAAe,QAAA,cACpCV,KAAA,CAACf,MAAM,EAAAyB,QAAA,EACJpB,MAAM,CAACsB,GAAG,CAAC,CAACC,KAAK,CAAEC,CAAC,GAAK,CACxB,MAAO,CAAAD,KAAK,CAACE,SAAS,cACpBjB,IAAA,CAACZ,KAAK,EAEJ8B,KAAK,CAAE,IAAK,CACZC,IAAI,CAAG,GAAEJ,KAAK,CAACI,IAAK,EAAE,CACtBC,MAAM,CAAGC,KAAK,eAAKrB,IAAA,CAACe,KAAK,CAACE,SAAS,KAAKI,KAAK,CAAG,CAAE,EAH7CL,CAIN,CAAC,CACA,IAAI,CACV,CAAC,CAAC,cACFhB,IAAA,CAACX,QAAQ,EAAC6B,KAAK,MAACI,IAAI,CAAC,GAAG,CAACC,EAAE,CAAC,YAAY,CAAE,CAAC,cAC3CvB,IAAA,CAACZ,KAAK,EAAC6B,SAAS,CAAEd,OAAQ,CAAE,CAAC,EACvB,CAAC,CACD,CAAC,CACP,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAC,MAAM"},"metadata":{},"sourceType":"module"}