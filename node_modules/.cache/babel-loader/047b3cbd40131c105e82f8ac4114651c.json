{"ast":null,"code":"import React,{useContext}from\"react\";import{Table,TableHeader,TableCell,TableFooter,TableContainer,Input,Card,CardBody,Pagination}from\"@windmill/react-ui\";import useAsync from\"../hooks/useAsync\";import useFilter from\"../hooks/useFilter\";import NotFound from\"../components/table/NotFound\";import UserServices from\"../services/UserServices\";import Loading from\"../components/preloader/Loading\";import PageTitle from\"../components/Typography/PageTitle\";import CustomerTable from\"../components/customer/CustomerTable\";import{SidebarContext}from\"../context/SidebarContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Customers=()=>{const{toggleDrawer,currentPage,handleChangePage,searchText,category,setCategory,searchRef,handleSubmitForAll,setSearchText,sortedField,setSortedField,limitData}=useContext(SidebarContext);const{data,loading}=useAsync(()=>UserServices.getAllUsers({page:currentPage,limit:limitData,category:category,title:searchText,price:sortedField}));const{serviceData,handleOnDrop,handleUploadProducts}=useFilter(data.users);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageTitle,{children:\"Users\"}),/*#__PURE__*/_jsx(Card,{className:\"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\",children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitForAll,className:\"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow\",children:[/*#__PURE__*/_jsx(Input,{ref:searchRef,className:\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white\",type:\"search\",name:\"search\",placeholder:\"Search by name\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"absolute right-0 top-0 mt-5 mr-1\"})]})})})}),loading?/*#__PURE__*/_jsx(Loading,{loading:loading}):serviceData.length!==0?/*#__PURE__*/_jsxs(TableContainer,{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Joining Date\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:\"userName\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Disabled\"}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(CustomerTable,{customers:data.users})]}),/*#__PURE__*/_jsx(TableFooter,{children:/*#__PURE__*/_jsx(Pagination,{totalResults:data.totalDoc,resultsPerPage:limitData,onChange:handleChangePage,label:\"Table navigation\"})})]}):/*#__PURE__*/_jsx(NotFound,{title:\"User\"})]});};export default Customers;","map":{"version":3,"names":["React","useContext","Table","TableHeader","TableCell","TableFooter","TableContainer","Input","Card","CardBody","Pagination","useAsync","useFilter","NotFound","UserServices","Loading","PageTitle","CustomerTable","SidebarContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Customers","toggleDrawer","currentPage","handleChangePage","searchText","category","setCategory","searchRef","handleSubmitForAll","setSearchText","sortedField","setSortedField","limitData","data","loading","getAllUsers","page","limit","title","price","serviceData","handleOnDrop","handleUploadProducts","users","children","className","onSubmit","ref","type","name","placeholder","length","customers","totalResults","totalDoc","resultsPerPage","onChange","label"],"sources":["/var/www/admin/src/pages/Users.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport {\n  Table,\n  TableHeader,\n  TableCell,\n  TableFooter,\n  TableContainer,\n  Input,\n  Card,\n  CardBody,\n  Pagination,\n} from \"@windmill/react-ui\";\n\nimport useAsync from \"../hooks/useAsync\";\nimport useFilter from \"../hooks/useFilter\";\nimport NotFound from \"../components/table/NotFound\";\nimport UserServices from \"../services/UserServices\";\nimport Loading from \"../components/preloader/Loading\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport CustomerTable from \"../components/customer/CustomerTable\";\nimport { SidebarContext } from \"../context/SidebarContext\";\n\nconst Customers = () => {\n  const {\n    toggleDrawer,\n    currentPage,\n    handleChangePage,\n    searchText,\n    category,\n    setCategory,\n    searchRef,\n    handleSubmitForAll,\n    setSearchText,\n    sortedField,\n    setSortedField,\n    limitData,\n  } = useContext(SidebarContext);\n\n  const { data, loading } = useAsync(() =>\n    UserServices.getAllUsers({\n      page: currentPage,\n      limit: limitData,\n      category: category,\n\n      title: searchText,\n      price: sortedField,\n    })\n  );\n  const { serviceData, handleOnDrop, handleUploadProducts } = useFilter(\n    data.users\n  );\n\n  return (\n    <>\n      <PageTitle>Users</PageTitle>\n      <Card className=\"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\">\n        <CardBody>\n          <form\n            onSubmit={handleSubmitForAll}\n            className=\"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex\"\n          >\n            <div className=\"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow\">\n              <Input\n                ref={searchRef}\n                className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white\"\n                type=\"search\"\n                name=\"search\"\n                placeholder=\"Search by name\"\n              />\n              <button\n                type=\"submit\"\n                className=\"absolute right-0 top-0 mt-5 mr-1\"\n              ></button>\n            </div>\n          </form>\n        </CardBody>\n      </Card>\n\n      {loading ? (\n        <Loading loading={loading} />\n      ) : serviceData.length !== 0 ? (\n        <TableContainer className=\"mb-8\">\n          <Table>\n            <TableHeader>\n              <tr>\n                <TableCell>Joining Date</TableCell>\n                <TableCell>Name</TableCell>\n                <TableCell>Email</TableCell>\n                <TableCell>userName</TableCell>\n                <TableCell>Disabled</TableCell>\n                <TableCell className=\"text-right\">Actions</TableCell>\n              </tr>\n            </TableHeader>\n            <CustomerTable customers={data.users} />\n          </Table>\n          <TableFooter>\n            <Pagination\n              totalResults={data.totalDoc}\n              resultsPerPage={limitData}\n              onChange={handleChangePage}\n              label=\"Table navigation\"\n            />\n          </TableFooter>\n        </TableContainer>\n      ) : (\n        <NotFound title=\"User\" />\n      )}\n    </>\n  );\n};\n\nexport default Customers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}