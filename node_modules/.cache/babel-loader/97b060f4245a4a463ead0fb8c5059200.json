{"ast":null,"code":"import React,{useContext,useState}from\"react\";import{Link}from\"react-router-dom\";import*as dayjs from\"dayjs\";import{TableCell,TableBody,TableRow,Badge}from\"@windmill/react-ui\";import{FiZoomIn,FiTrash2}from\"react-icons/fi\";import Tooltip from\"../tooltip/Tooltip\";import MainModal from\"../modal/MainModal\";import{SidebarContext}from\"../../context/SidebarContext\";import ShowHideButton from\"../table/ShowHideButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RoomsTable=_ref=>{let{rooms}=_ref;const[roomId,setRoomId]=useState(\"\");const{toggleModal}=useContext(SidebarContext);const[title,setTitle]=useState(\"\");const handleModalOpen=(id,title)=>{setRoomId(id);toggleModal();setTitle(title);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainModal,{id:roomId,title:title}),/*#__PURE__*/_jsx(TableBody,{children:rooms===null||rooms===void 0?void 0:rooms.map(room=>{var _room$hostIds$,_room$hostIds$2;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:dayjs(room.createdAt).format(\"MMM D, YYYY\")})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:room.title})}),/*#__PURE__*/_jsx(TableCell,{children:room.productIds.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:room.productIds[0].name}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"$\",\"\",/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:room.productIds[0].price}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:room.productIds[0].discount?`Discounted ${room.productIds[0].discount}`:\"\"}),\" \"]}):/*#__PURE__*/_jsx(\"p\",{})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[(_room$hostIds$=room.hostIds[0])===null||_room$hostIds$===void 0?void 0:_room$hostIds$.firstName,\" \",(_room$hostIds$2=room.hostIds[0])===null||_room$hostIds$2===void 0?void 0:_room$hostIds$2.lastName]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:room.userIds.length})}),/*#__PURE__*/_jsx(TableCell,{children:room.ended==false?room.event==true?/*#__PURE__*/_jsx(Badge,{type:\"success\",children:\"Upcoming\"}):/*#__PURE__*/_jsx(Badge,{type:\"success\",children:\"Live\"}):/*#__PURE__*/_jsx(Badge,{type:\"danger\",children:\"Ended\"})})]},room._id);})})]});};export default RoomsTable;","map":{"version":3,"names":["React","useContext","useState","Link","dayjs","TableCell","TableBody","TableRow","Badge","FiZoomIn","FiTrash2","Tooltip","MainModal","SidebarContext","ShowHideButton","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RoomsTable","_ref","rooms","roomId","setRoomId","toggleModal","title","setTitle","handleModalOpen","id","children","map","room","_room$hostIds$","_room$hostIds$2","className","createdAt","format","productIds","length","name","price","discount","hostIds","firstName","lastName","userIds","ended","event","type","_id"],"sources":["/var/www/admin/src/components/rooms/RoomsTable.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as dayjs from \"dayjs\";\nimport { TableCell, TableBody, TableRow, Badge } from \"@windmill/react-ui\";\nimport { FiZoomIn, FiTrash2 } from \"react-icons/fi\";\n\nimport Tooltip from \"../tooltip/Tooltip\";\nimport MainModal from \"../modal/MainModal\";\nimport { SidebarContext } from \"../../context/SidebarContext\";\nimport ShowHideButton from \"../table/ShowHideButton\";\n\nconst RoomsTable = ({ rooms }) => {\n  const [roomId, setRoomId] = useState(\"\");\n  const { toggleModal } = useContext(SidebarContext);\n  const [title, setTitle] = useState(\"\");\n\n  const handleModalOpen = (id, title) => {\n    setRoomId(id);\n    toggleModal();\n    setTitle(title);\n  };\n\n  return (\n    <>\n      <MainModal id={roomId} title={title} />\n      <TableBody>\n        {rooms?.map((room) => (\n          <TableRow key={room._id}>\n            <TableCell>\n              <span className=\"text-sm\">\n                {dayjs(room.createdAt).format(\"MMM D, YYYY\")}\n              </span>\n            </TableCell>\n            <TableCell>\n              <span className=\"text-sm\">{room.title}</span>\n            </TableCell>\n            <TableCell>\n              {room.productIds.length > 0 ? (\n                <>\n                  <span className=\"text-sm\">{room.productIds[0].name}</span>{\" \"}\n                  <br />${\"\"}\n                  <span className=\"text-sm\">{room.productIds[0].price}</span>\n                  <span className=\"text-sm\">\n                    {room.productIds[0].discount\n                      ? `Discounted ${room.productIds[0].discount}`\n                      : \"\"}\n                  </span>{\" \"}\n                </>\n              ) : (\n                <p></p>\n              )}\n            </TableCell>\n            <TableCell>\n              <span className=\"text-sm font-medium\">\n                {room.hostIds[0]?.firstName} {room.hostIds[0]?.lastName}\n              </span>\n            </TableCell>\n            <TableCell>\n              <span className=\"text-sm font-medium\">{room.userIds.length}</span>\n            </TableCell>\n            <TableCell>\n              {room.ended == false ? (\n                room.event == true ? (\n                  <Badge type=\"success\">Upcoming</Badge>\n                ) : (\n                  <Badge type=\"success\">Live</Badge>\n                )\n              ) : (\n                <Badge type=\"danger\">Ended</Badge>\n              )}\n            </TableCell>\n          </TableRow>\n        ))}\n      </TableBody>\n    </>\n  );\n};\n\nexport default RoomsTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}