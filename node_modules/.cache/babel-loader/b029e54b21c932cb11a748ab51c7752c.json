{"ast":null,"code":"import React,{useContext}from\"react\";import{useLocation}from\"react-router-dom\";import{BsToggleOff,BsToggleOn}from\"react-icons/bs\";import{notifySuccess,notifyError}from\"../../utils/toast\";import ProductServices from\"../../services/ProductServices\";import{SidebarContext}from\"../../context/SidebarContext\";import UserServices from\"../../services/UserServices\";import ShopServices from\"../../services/ShopServices\";import{jsx as _jsx}from\"react/jsx-runtime\";const ShowHideButton=_ref=>{let{id,status,customValue=\"\",customeKey=\"\"}=_ref;const location=useLocation();const{setIsUpdate}=useContext(SidebarContext);const handleChangeStatus=(id,status)=>{console.log(status);notifySuccess(\"please wait...\");if(location.pathname===\"/users\"){UserServices.updateUserById(id,{accountDisabled:status}).then(res=>{setIsUpdate(true);notifySuccess(\"status updated\");}).catch(err=>notifyError(err.message));}if(location.pathname===\"/products\"){console.log(customeKey);if(customeKey=\"feature\"){ProductServices.updateProduct(id,{[customeKey]:customValue}).then(res=>{console.log(res);setIsUpdate(true);notifySuccess(\"status updated\");}).catch(err=>notifyError(err.message));}else{ProductServices.updateProduct(id,{available:!status}).then(res=>{console.log(res);setIsUpdate(true);notifySuccess(\"status updated\");}).catch(err=>notifyError(err.message));}}if(location.pathname===\"/shops\"){ShopServices.updateShop(id,{open:!status}).then(res=>{console.log(res);setIsUpdate(true);notifySuccess(\"status updated\");}).catch(err=>notifyError(err.message));}};return/*#__PURE__*/_jsx(\"span\",{className:\"cursor-pointer text-xl flex justify-center text-center\",onClick:()=>handleChangeStatus(id,status),children:status==true?/*#__PURE__*/_jsx(BsToggleOn,{className:\"text-green-500\"}):/*#__PURE__*/_jsx(BsToggleOff,{className:\"text-orange-500\"})});};export default ShowHideButton;","map":{"version":3,"names":["React","useContext","useLocation","BsToggleOff","BsToggleOn","notifySuccess","notifyError","ProductServices","SidebarContext","UserServices","ShopServices","jsx","_jsx","ShowHideButton","_ref","id","status","customValue","customeKey","location","setIsUpdate","handleChangeStatus","console","log","pathname","updateUserById","accountDisabled","then","res","catch","err","message","updateProduct","available","updateShop","open","className","onClick","children"],"sources":["/var/www/admin/src/components/table/ShowHideButton.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { BsToggleOff, BsToggleOn } from \"react-icons/bs\";\n\nimport { notifySuccess, notifyError } from \"../../utils/toast\";\nimport ProductServices from \"../../services/ProductServices\";\nimport { SidebarContext } from \"../../context/SidebarContext\";\nimport UserServices from \"../../services/UserServices\";\nimport ShopServices from \"../../services/ShopServices\";\n\nconst ShowHideButton = ({ id, status, customValue = \"\", customeKey = \"\" }) => {\n  const location = useLocation();\n  const { setIsUpdate } = useContext(SidebarContext);\n\n  const handleChangeStatus = (id, status) => {\n    console.log(status);\n    notifySuccess(\"please wait...\");\n    if (location.pathname === \"/users\") {\n      UserServices.updateUserById(id, { accountDisabled: status })\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"status updated\");\n        })\n        .catch((err) => notifyError(err.message));\n    }\n\n    if (location.pathname === \"/products\") {\n      console.log(customeKey);\n      if ((customeKey = \"feature\")) {\n        ProductServices.updateProduct(id, { [customeKey]: customValue })\n          .then((res) => {\n            console.log(res);\n            setIsUpdate(true);\n            notifySuccess(\"status updated\");\n          })\n          .catch((err) => notifyError(err.message));\n      } else {\n        ProductServices.updateProduct(id, { available: !status })\n          .then((res) => {\n            console.log(res);\n            setIsUpdate(true);\n            notifySuccess(\"status updated\");\n          })\n          .catch((err) => notifyError(err.message));\n      }\n    }\n\n    if (location.pathname === \"/shops\") {\n      ShopServices.updateShop(id, { open: !status })\n        .then((res) => {\n          console.log(res);\n          setIsUpdate(true);\n          notifySuccess(\"status updated\");\n        })\n        .catch((err) => notifyError(err.message));\n    }\n  };\n\n  return (\n    <span\n      className=\"cursor-pointer text-xl flex justify-center text-center\"\n      onClick={() => handleChangeStatus(id, status)}\n    >\n      {status == true ? (\n        <BsToggleOn className=\"text-green-500\" />\n      ) : (\n        <BsToggleOff className=\"text-orange-500\" />\n      )}\n    </span>\n  );\n};\n\nexport default ShowHideButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}