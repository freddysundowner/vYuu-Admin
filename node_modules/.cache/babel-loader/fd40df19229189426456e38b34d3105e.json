{"ast":null,"code":"import React,{useContext}from\"react\";import{useLocation}from\"react-router-dom\";import{Modal,ModalBody,ModalFooter,Button}from\"@windmill/react-ui\";import{FiTrash2}from\"react-icons/fi\";import UserServices from\"../../services/UserServices\";import AdminServices from\"../../services/AdminServices\";import ProductServices from\"../../services/ProductServices\";import{SidebarContext}from\"../../context/SidebarContext\";import{notifySuccess,notifyError}from\"../../utils/toast\";import useToggleDrawer from\"../../hooks/useToggleDrawer\";import ShopServices from\"../../services/ShopServices\";import InterestServices from\"../../services/InterestServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const MainModal=_ref=>{let{id,title}=_ref;const{isModalOpen,closeModal,setIsUpdate}=useContext(SidebarContext);const{setServiceId}=useToggleDrawer();const location=useLocation();const handleDelete=()=>{if(location.pathname===\"/products\"){ProductServices.updateProduct(id,{deleted:true}).then(res=>{setIsUpdate(true);notifySuccess(\"product deleted successfully\");}).catch(err=>notifyError(err.message));closeModal();setServiceId();}if(title===\"interests\"){InterestServices.deleteInterest(id).then(res=>{setIsUpdate(true);notifySuccess(\"sub interest deleted\");}).catch(err=>notifyError(err.message));closeModal();setServiceId();}if(location.pathname===\"/channels\"){InterestServices.deleteChannel(id).then(res=>{setIsUpdate(true);notifySuccess(\"channel deleted\");}).catch(err=>notifyError(err.message));closeModal();setServiceId();}if(location.pathname===\"/shops\"){ShopServices.deleteShop(id).then(res=>{setIsUpdate(true);notifySuccess(\"shop deleted\");}).catch(err=>notifyError(err.message));closeModal();setServiceId();}if(location.pathname===\"/users\"){UserServices.deleteUser(id).then(res=>{setIsUpdate(true);notifySuccess(\"user deleted\");}).catch(err=>notifyError(err.message));closeModal();setServiceId();}if(location.pathname===\"/admins\"){AdminServices.deleteAdmin(id).then(res=>{setIsUpdate(true);notifySuccess(\"admin deleted\");}).catch(err=>notifyError(err.message));closeModal();setServiceId();}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{isOpen:isModalOpen,onClose:closeModal,children:[/*#__PURE__*/_jsxs(ModalBody,{className:\"text-center custom-modal px-8 pt-6 pb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex justify-center text-3xl mb-6 text-red-500\",children:/*#__PURE__*/_jsx(FiTrash2,{})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-medium mb-1\",children:[\"Are You Sure! Want to Delete\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:title}),\" Record?\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Do you really want to delete these records? You can't view this in your list anymore if you delete!\"})]}),process.env.REACT_APP_DEV_STATUS===\"true\"?/*#__PURE__*/_jsx(\"div\",{className:\"justify-center\",children:\"This is demo, you cannot delete anything\"}):/*#__PURE__*/_jsxs(ModalFooter,{className:\"justify-center\",children:[/*#__PURE__*/_jsx(Button,{className:\"w-full sm:w-auto hover:bg-white hover:border-gray-50\",layout:\"outline\",onClick:closeModal,children:\"No, Keep It\"}),/*#__PURE__*/_jsx(Button,{onClick:handleDelete,className:\"w-full sm:w-auto\",children:\"Yes, Delete It\"})]})]})});};export default/*#__PURE__*/React.memo(MainModal);","map":{"version":3,"names":["React","useContext","useLocation","Modal","ModalBody","ModalFooter","Button","FiTrash2","UserServices","AdminServices","ProductServices","SidebarContext","notifySuccess","notifyError","useToggleDrawer","ShopServices","InterestServices","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainModal","_ref","id","title","isModalOpen","closeModal","setIsUpdate","setServiceId","location","handleDelete","pathname","updateProduct","deleted","then","res","catch","err","message","deleteInterest","deleteChannel","deleteShop","deleteUser","deleteAdmin","children","isOpen","onClose","className","process","env","REACT_APP_DEV_STATUS","layout","onClick","memo"],"sources":["/var/www/admin/src/components/modal/MainModal.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { Modal, ModalBody, ModalFooter, Button } from \"@windmill/react-ui\";\nimport { FiTrash2 } from \"react-icons/fi\";\n\nimport UserServices from \"../../services/UserServices\";\nimport AdminServices from \"../../services/AdminServices\";\nimport ProductServices from \"../../services/ProductServices\";\nimport { SidebarContext } from \"../../context/SidebarContext\";\nimport { notifySuccess, notifyError } from \"../../utils/toast\";\nimport useToggleDrawer from \"../../hooks/useToggleDrawer\";\nimport ShopServices from \"../../services/ShopServices\";\nimport InterestServices from \"../../services/InterestServices\";\n\nconst MainModal = ({ id, title }) => {\n  const { isModalOpen, closeModal, setIsUpdate } = useContext(SidebarContext);\n  const { setServiceId } = useToggleDrawer();\n  const location = useLocation();\n\n  const handleDelete = () => {\n    if (location.pathname === \"/products\") {\n      ProductServices.updateProduct(id, { deleted: true })\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"product deleted successfully\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeModal();\n      setServiceId();\n    }\n    if (title === \"interests\") {\n      InterestServices.deleteInterest(id)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"sub interest deleted\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeModal();\n      setServiceId();\n    }\n\n    if (location.pathname === \"/channels\") {\n      InterestServices.deleteChannel(id)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"channel deleted\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeModal();\n      setServiceId();\n    }\n  \n    if (location.pathname === \"/shops\") {\n      ShopServices.deleteShop(id)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"shop deleted\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeModal();\n      setServiceId();\n    }\n    if (location.pathname === \"/users\") {\n      UserServices.deleteUser(id)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"user deleted\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeModal();\n      setServiceId();\n    }\n\n    if (location.pathname === \"/admins\") {\n      AdminServices.deleteAdmin(id)\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"admin deleted\");\n        })\n        .catch((err) => notifyError(err.message));\n      closeModal();\n      setServiceId();\n    }\n  };\n\n  return (\n    <>\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\n        <ModalBody className=\"text-center custom-modal px-8 pt-6 pb-4\">\n          <span className=\"flex justify-center text-3xl mb-6 text-red-500\">\n            <FiTrash2 />\n          </span>\n          <h2 className=\"text-xl font-medium mb-1\">\n            Are You Sure! Want to Delete{\" \"}\n            <span className=\"text-red-500\">{title}</span> Record?\n          </h2>\n          <p>\n            Do you really want to delete these records? You can't view this in\n            your list anymore if you delete!\n          </p>\n        </ModalBody>\n        {process.env.REACT_APP_DEV_STATUS === \"true\" ? (\n          <div className=\"justify-center\">\n            This is demo, you cannot delete anything\n          </div>\n        ) : (\n          <ModalFooter className=\"justify-center\">\n            <Button\n              className=\"w-full sm:w-auto hover:bg-white hover:border-gray-50\"\n              layout=\"outline\"\n              onClick={closeModal}\n            >\n              No, Keep It\n            </Button>\n\n            <Button onClick={handleDelete} className=\"w-full sm:w-auto\">\n              Yes, Delete It\n            </Button>\n          </ModalFooter>\n        )}\n      </Modal>\n    </>\n  );\n};\n\nexport default React.memo(MainModal);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}