{"ast":null,"code":"import React,{useContext}from\"react\";import{Pie}from\"react-chartjs-2\";import{AdminContext}from\"../../context/AdminContext\";import useAsync from\"../../hooks/useAsync\";import OrderServices from\"../../services/OrderServices\";import ShopServices from\"../../services/ShopServices\";import{jsx as _jsx}from\"react/jsx-runtime\";const RevenueChart=()=>{var _data$bestSellingProd,_data$bestSellingProd2;const{state,dispatch}=useContext(AdminContext);const{adminInfo}=state;const{data,loading}=useAsync(()=>ShopServices.getShopByUserId(adminInfo._id).then(res=>{console.log(res);return OrderServices.getBestSellerProductChart({shopid:res._id});}));// const { data } = useAsync(OrderServices.getBestSellerProductChart);\nconst PieOption={data:{datasets:[{data:data===null||data===void 0?void 0:(_data$bestSellingProd=data.bestSellingProduct)===null||_data$bestSellingProd===void 0?void 0:_data$bestSellingProd.map(selling=>selling.count),backgroundColor:[\"#10B981\",\"#3B82F6\",\"#F97316\",\"#0EA5E9\"],label:\"Dataset 1\"}],labels:data===null||data===void 0?void 0:(_data$bestSellingProd2=data.bestSellingProduct)===null||_data$bestSellingProd2===void 0?void 0:_data$bestSellingProd2.map(selling=>selling._id)},options:{responsive:true,cutoutPercentage:80},legend:{display:false}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pie,{...PieOption,className:\"chart\"})});};export default RevenueChart;","map":{"version":3,"names":["React","useContext","Pie","AdminContext","useAsync","OrderServices","ShopServices","jsx","_jsx","RevenueChart","_data$bestSellingProd","_data$bestSellingProd2","state","dispatch","adminInfo","data","loading","getShopByUserId","_id","then","res","console","log","getBestSellerProductChart","shopid","PieOption","datasets","bestSellingProduct","map","selling","count","backgroundColor","label","labels","options","responsive","cutoutPercentage","legend","display","children","className"],"sources":["/var/www/admin/src/components/chart/RevenueChart.js"],"sourcesContent":["import React, { useContext } from \"react\";\n\nimport { Pie } from \"react-chartjs-2\";\nimport { AdminContext } from \"../../context/AdminContext\";\nimport useAsync from \"../../hooks/useAsync\";\nimport OrderServices from \"../../services/OrderServices\";\nimport ShopServices from \"../../services/ShopServices\";\n\n\nconst RevenueChart = () => {\n  const { state, dispatch } = useContext(AdminContext);\n  const { adminInfo } = state;\n  const { data, loading } = useAsync(() =>\n    ShopServices.getShopByUserId(adminInfo._id).then((res) => {\n      console.log(res);\n      return OrderServices.getBestSellerProductChart({\n        shopid: res._id,\n      });\n    })\n  );\n\n  // const { data } = useAsync(OrderServices.getBestSellerProductChart);\n\n  const PieOption = {\n    data: {\n      datasets: [\n        {\n          data: data?.bestSellingProduct?.map((selling) => selling.count),\n          backgroundColor: [\"#10B981\", \"#3B82F6\", \"#F97316\", \"#0EA5E9\"],\n          label: \"Dataset 1\",\n        },\n      ],\n      labels: data?.bestSellingProduct?.map((selling) => selling._id),\n    },\n    options: {\n      responsive: true,\n      cutoutPercentage: 80,\n    },\n    legend: {\n      display: false,\n    },\n  };\n\n  return (\n    <div>\n      <Pie {...PieOption} className=\"chart\" />\n    </div>\n  );\n};\n\nexport default RevenueChart;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CAEzC,OAASC,GAAG,KAAQ,iBAAiB,CACrC,OAASC,YAAY,KAAQ,4BAA4B,CACzD,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,MAAO,CAAAC,aAAa,KAAM,8BAA8B,CACxD,MAAO,CAAAC,YAAY,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAGvD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAAAC,sBAAA,CACzB,KAAM,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAGZ,UAAU,CAACE,YAAY,CAAC,CACpD,KAAM,CAAEW,SAAU,CAAC,CAAGF,KAAK,CAC3B,KAAM,CAAEG,IAAI,CAAEC,OAAQ,CAAC,CAAGZ,QAAQ,CAAC,IACjCE,YAAY,CAACW,eAAe,CAACH,SAAS,CAACI,GAAG,CAAC,CAACC,IAAI,CAAEC,GAAG,EAAK,CACxDC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChB,MAAO,CAAAf,aAAa,CAACkB,yBAAyB,CAAC,CAC7CC,MAAM,CAAEJ,GAAG,CAACF,GACd,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CAED;AAEA,KAAM,CAAAO,SAAS,CAAG,CAChBV,IAAI,CAAE,CACJW,QAAQ,CAAE,CACR,CACEX,IAAI,CAAEA,IAAI,SAAJA,IAAI,kBAAAL,qBAAA,CAAJK,IAAI,CAAEY,kBAAkB,UAAAjB,qBAAA,iBAAxBA,qBAAA,CAA0BkB,GAAG,CAAEC,OAAO,EAAKA,OAAO,CAACC,KAAK,CAAC,CAC/DC,eAAe,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAC7DC,KAAK,CAAE,WACT,CAAC,CACF,CACDC,MAAM,CAAElB,IAAI,SAAJA,IAAI,kBAAAJ,sBAAA,CAAJI,IAAI,CAAEY,kBAAkB,UAAAhB,sBAAA,iBAAxBA,sBAAA,CAA0BiB,GAAG,CAAEC,OAAO,EAAKA,OAAO,CAACX,GAAG,CAChE,CAAC,CACDgB,OAAO,CAAE,CACPC,UAAU,CAAE,IAAI,CAChBC,gBAAgB,CAAE,EACpB,CAAC,CACDC,MAAM,CAAE,CACNC,OAAO,CAAE,KACX,CACF,CAAC,CAED,mBACE9B,IAAA,QAAA+B,QAAA,cACE/B,IAAA,CAACN,GAAG,KAAKuB,SAAS,CAAEe,SAAS,CAAC,OAAO,CAAE,CAAC,CACrC,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/B,YAAY"},"metadata":{},"sourceType":"module"}