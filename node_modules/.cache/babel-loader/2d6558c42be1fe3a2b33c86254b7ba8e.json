{"ast":null,"code":"import dayjs from\"dayjs\";import{useParams}from\"react-router\";import React,{useContext,useRef}from\"react\";import{TableCell,TableHeader,Table,TableContainer,WindmillContext}from\"@windmill/react-ui\";import useAsync from\"../hooks/useAsync\";import Status from\"../components/table/Status\";import OrderServices from\"../services/OrderServices\";import Invoice from\"../components/invoice/Invoice\";import Loading from\"../components/preloader/Loading\";import PageTitle from\"../components/Typography/PageTitle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const OrderInvoice=()=>{const{mode}=useContext(WindmillContext);const{id}=useParams();const printRef=useRef();const{data,loading}=useAsync(()=>OrderServices.getOrderById(id));console.log(data);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageTitle,{children:\"Invoice\"}),/*#__PURE__*/_jsxs(\"div\",{ref:printRef,className:\"bg-white dark:bg-gray-800 mb-4 p-6 lg:p-8 rounded-xl shadow-sm overflow-hidden\",children:[!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex lg:flex-row md:flex-row flex-col lg:items-center justify-between pb-4 border-b border-gray-50 dark:border-gray-700 dark:text-gray-300\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"font-bold font-serif text-xl uppercase\",children:[\"Invoice\",/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs mt-1 text-gray-500\",children:[\"Status:\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"pl-2 font-medium text-xs capitalize\",children:[\" \",/*#__PURE__*/_jsx(Status,{status:data.status})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex lg:flex-row md:flex-row flex-col justify-between pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 md:mb-0 lg:mb-0 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\",children:\"Date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400 block\",children:data.createdAt!==undefined&&/*#__PURE__*/_jsx(\"span\",{children:dayjs(data===null||data===void 0?void 0:data.createdAt).format(\"MMMM D, YYYY\")})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 md:mb-0 lg:mb-0 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\",children:\"Invoice No\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400 block\",children:[\"#\",data===null||data===void 0?void 0:data.invoice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:text-right text-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\",children:\"Invoice To.\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400 block\",children:[data.name,/*#__PURE__*/_jsx(\"br\",{}),data.shippingId.name,data.shippingId.city,\", \",/*#__PURE__*/_jsx(\"br\",{}),data.shippingId.state,\", \",data.shippingId.country,\",\",/*#__PURE__*/_jsx(\"br\",{}),\"Phone Number :\",data.shippingId.phone]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Loading,{loading:loading}):/*#__PURE__*/_jsx(TableContainer,{className:\"my-8\",children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product Name\"}),/*#__PURE__*/_jsx(TableCell,{className:\"text-center\",children:\"Quantity\"}),/*#__PURE__*/_jsx(TableCell,{className:\"text-center\",children:\"Amount\"})]})}),/*#__PURE__*/_jsx(Invoice,{data:data})]})})}),!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-xl border-gray-100 p-8 py-6 bg-gray-50 dark:bg-gray-900 dark:border-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex lg:flex-row md:flex-row flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\",children:\"Tax\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400 font-semibold font-serif block\",children:[\"$\",Math.round(data.tax),\".00\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\",children:\"Shipping Fee\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400 font-semibold font-serif block\",children:[\"$\",Math.round(data.shippingFee),\".00\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\",children:\"Total Amount\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-serif font-bold text-red-500 dark:text-green-500 block\",children:[\"$\",Math.round(data.totalCost),\".00\"]})]})]})})]})]});};export default OrderInvoice;","map":{"version":3,"names":["dayjs","useParams","React","useContext","useRef","TableCell","TableHeader","Table","TableContainer","WindmillContext","useAsync","Status","OrderServices","Invoice","Loading","PageTitle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderInvoice","mode","id","printRef","data","loading","getOrderById","console","log","children","ref","className","status","createdAt","undefined","format","invoice","name","shippingId","city","state","country","phone","Math","round","tax","shippingFee","totalCost"],"sources":["/var/www/admin/src/pages/OrderInvoice.js"],"sourcesContent":["import dayjs from \"dayjs\";\nimport { useParams } from \"react-router\";\nimport React, { useContext, useRef } from \"react\";\nimport {\n  TableCell,\n  TableHeader,\n  Table,\n  TableContainer,\n  WindmillContext,\n} from \"@windmill/react-ui\";\n\nimport useAsync from \"../hooks/useAsync\";\nimport Status from \"../components/table/Status\";\nimport OrderServices from \"../services/OrderServices\";\nimport Invoice from \"../components/invoice/Invoice\";\nimport Loading from \"../components/preloader/Loading\";\nimport PageTitle from \"../components/Typography/PageTitle\";\n\nconst OrderInvoice = () => {\n  const { mode } = useContext(WindmillContext);\n  const { id } = useParams();\n  const printRef = useRef();\n\n  const { data, loading } = useAsync(() => OrderServices.getOrderById(id));\n  console.log(data);\n\n  return (\n    <>\n      <PageTitle>Invoice</PageTitle>\n\n      <div\n        ref={printRef}\n        className=\"bg-white dark:bg-gray-800 mb-4 p-6 lg:p-8 rounded-xl shadow-sm overflow-hidden\"\n      >\n        {!loading && (\n          <div className=\"\">\n            <div className=\"flex lg:flex-row md:flex-row flex-col lg:items-center justify-between pb-4 border-b border-gray-50 dark:border-gray-700 dark:text-gray-300\">\n              <h1 className=\"font-bold font-serif text-xl uppercase\">\n                Invoice\n                <p className=\"text-xs mt-1 text-gray-500\">\n                  Status:{\" \"}\n                  <span className=\"pl-2 font-medium text-xs capitalize\">\n                    {\" \"}\n                    <Status status={data.status} />\n                  </span>\n                </p>\n              </h1>\n            </div>\n            <div className=\"flex lg:flex-row md:flex-row flex-col justify-between pt-4\">\n              <div className=\"mb-3 md:mb-0 lg:mb-0 flex flex-col\">\n                <span className=\"font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Date\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 block\">\n                  {data.createdAt !== undefined && (\n                    <span>{dayjs(data?.createdAt).format(\"MMMM D, YYYY\")}</span>\n                  )}\n                </span>\n              </div>\n              <div className=\"mb-3 md:mb-0 lg:mb-0 flex flex-col\">\n                <span className=\"font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Invoice No\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 block\">\n                  #{data?.invoice}\n                </span>\n              </div>\n              <div className=\"flex flex-col lg:text-right text-left\">\n                <span className=\"font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Invoice To.\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 block\">\n                  {data.name}\n                  <br />\n                  {data.shippingId.name}\n                  {data.shippingId.city}, <br />\n                  {data.shippingId.state}, {data.shippingId.country},<br />\n                  Phone Number :{data.shippingId.phone}\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n        <div>\n          {loading ? (\n            <Loading loading={loading} />\n          ) : (\n            <TableContainer className=\"my-8\">\n              <Table>\n                <TableHeader>\n                  <tr>\n                    <TableCell>Product Name</TableCell>\n                    <TableCell className=\"text-center\">Quantity</TableCell>\n                    <TableCell className=\"text-center\">Amount</TableCell>\n                  </tr>\n                </TableHeader>\n                <Invoice data={data} />\n              </Table>\n            </TableContainer>\n          )}\n        </div>\n\n        {!loading && (\n          <div className=\"border rounded-xl border-gray-100 p-8 py-6 bg-gray-50 dark:bg-gray-900 dark:border-gray-800\">\n            <div className=\"flex lg:flex-row md:flex-row flex-col justify-between\">\n              {/* <div className=\"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap\">\n                <span className=\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Payment Method\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 font-semibold font-serif block\">\n                  {data.paymentMethod}\n                </span>\n              </div>*/}\n              {/* <div className=\"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap\">\n                <span className=\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Discount\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 font-semibold font-serif block\">\n                  ${Math.round(data.itemId.productId.discountedPrice)}.00\n                </span>\n              </div> */}\n              <div className=\"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap\">\n                <span className=\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Tax\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 font-semibold font-serif block\">\n                  ${Math.round(data.tax)}.00\n                </span>\n              </div>\n              <div className=\"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap\">\n                <span className=\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Shipping Fee\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 font-semibold font-serif block\">\n                  ${Math.round(data.shippingFee)}.00\n                </span>\n              </div>\n              {/* <div className=\"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap\">\n                <span className=\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  SubTotal\n                </span>\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 font-semibold font-serif block\">\n                  ${Math.round(data.subTotal)}.00\n                </span>\n              </div> */}\n              <div className=\"flex flex-col sm:flex-wrap\">\n                <span className=\"mb-1 font-bold font-serif text-sm uppercase text-gray-600 dark:text-gray-500 block\">\n                  Total Amount\n                </span>\n                <span className=\"text-xl font-serif font-bold text-red-500 dark:text-green-500 block\">\n                  ${Math.round(data.totalCost)}.00\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default OrderInvoice;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}