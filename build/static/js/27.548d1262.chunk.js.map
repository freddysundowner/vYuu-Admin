{"version":3,"sources":["components/customer/CustomerTable.js","pages/Users.js","components/table/ShowHideButton.js"],"names":["CustomerTable","_ref","customers","customerId","setCustomerId","useState","toggleModal","useContext","SidebarContext","title","setTitle","_jsxs","_Fragment","children","_jsx","MainModal","id","TableBody","map","user","TableRow","TableCell","className","dayjs","createdAt","format","firstName","email","userName","ShowHideButton","_id","status","accountDisabled","Link","to","Tooltip","Icon","FiZoomIn","bgColor","onClick","handleModalOpen","name","FiTrash2","Customers","toggleDrawer","currentPage","handleChangePage","searchText","category","setCategory","searchRef","handleSubmitForAll","setSearchText","sortedField","setSortedField","limitData","data","loading","useAsync","UserServices","getAllUsers","page","limit","price","serviceData","handleOnDrop","handleUploadProducts","useFilter","users","PageTitle","Card","CardBody","onSubmit","Input","ref","type","placeholder","Loading","length","TableContainer","Table","TableHeader","TableFooter","Pagination","totalResults","totalDoc","resultsPerPage","onChange","label","NotFound","customValue","customeKey","location","useLocation","setIsUpdate","handleChangeStatus","console","log","notifySuccess","pathname","updateUserById","then","res","catch","err","notifyError","message","ProductServices","updateProduct","available","ShopServices","updateShop","open","BsToggleOn","BsToggleOff"],"mappings":"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","file":"static/js/27.548d1262.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as dayjs from \"dayjs\";\nimport { TableCell, TableBody, TableRow } from \"@windmill/react-ui\";\nimport { FiZoomIn, FiTrash2 } from \"react-icons/fi\";\n\nimport Tooltip from \"../tooltip/Tooltip\";\nimport MainModal from \"../modal/MainModal\";\nimport { SidebarContext } from \"../../context/SidebarContext\";\nimport ShowHideButton from \"../table/ShowHideButton\";\n\nconst CustomerTable = ({ customers }) => {\n  const [customerId, setCustomerId] = useState(\"\");\n  const { toggleModal } = useContext(SidebarContext);\n  const [title, setTitle] = useState(\"\");\n\n  const handleModalOpen = (id, title) => {\n    setCustomerId(id);\n    toggleModal();\n    setTitle(title);\n  };\n\n  return (\n    <>\n      <MainModal id={customerId} title={title} />\n      <TableBody>\n        {customers?.map((user) => (\n          <TableRow key={user._id}>\n            <TableCell>\n              <span className=\"text-sm\">\n                {dayjs(user.createdAt).format(\"MMM D, YYYY\")}\n              </span>\n            </TableCell>\n            <TableCell>\n              <span className=\"text-sm\">{user.firstName}</span>\n            </TableCell>\n            <TableCell>\n              <span className=\"text-sm\">{user.email}</span>{\" \"}\n            </TableCell>\n            <TableCell>\n              <span className=\"text-sm font-medium\">{user.userName}</span>\n            </TableCell>\n            <TableCell>\n              <ShowHideButton id={user._id} status={!user.accountDisabled} />\n            </TableCell>\n            <TableCell>\n              <div className=\"flex justify-end text-right\">\n                <div className=\"p-2 cursor-pointer text-gray-400 hover:text-green-600\">\n                  {\" \"}\n                  <Link to={`/profile/${user._id}`}>\n                    <Tooltip\n                      id=\"view\"\n                      Icon={FiZoomIn}\n                      title=\"View Order\"\n                      bgColor=\"#34D399\"\n                    />\n                  </Link>\n                </div>\n                <div\n                  onClick={() => handleModalOpen(user._id, user.name)}\n                  className=\"p-2 cursor-pointer text-gray-400 hover:text-red-600\"\n                >\n                  <Tooltip\n                    id=\"delete\"\n                    Icon={FiTrash2}\n                    title=\"Delete\"\n                    bgColor=\"#F87171\"\n                  />\n                </div>\n              </div>\n            </TableCell>\n          </TableRow>\n        ))}\n      </TableBody>\n    </>\n  );\n};\n\nexport default CustomerTable;\n","import React, { useContext } from \"react\";\nimport {\n  Table,\n  TableHeader,\n  TableCell,\n  TableFooter,\n  TableContainer,\n  Input,\n  Card,\n  CardBody,\n  Pagination,\n} from \"@windmill/react-ui\";\n\nimport useAsync from \"../hooks/useAsync\";\nimport useFilter from \"../hooks/useFilter\";\nimport NotFound from \"../components/table/NotFound\";\nimport UserServices from \"../services/UserServices\";\nimport Loading from \"../components/preloader/Loading\";\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport CustomerTable from \"../components/customer/CustomerTable\";\nimport { SidebarContext } from \"../context/SidebarContext\";\n\nconst Customers = () => {\n  const {\n    toggleDrawer,\n    currentPage,\n    handleChangePage,\n    searchText,\n    category,\n    setCategory,\n    searchRef,\n    handleSubmitForAll,\n    setSearchText,\n    sortedField,\n    setSortedField,\n    limitData,\n  } = useContext(SidebarContext);\n\n  const { data, loading } = useAsync(() =>\n    UserServices.getAllUsers({\n      page: currentPage,\n      limit: limitData,\n      category: category,\n\n      title: searchText,\n      price: sortedField,\n    })\n  );\n  const { serviceData, handleOnDrop, handleUploadProducts } = useFilter(\n    data.users\n  );\n\n  return (\n    <>\n      <PageTitle>Users</PageTitle>\n      <Card className=\"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\">\n        <CardBody>\n          <form\n            onSubmit={handleSubmitForAll}\n            className=\"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex\"\n          >\n            <div className=\"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow\">\n              <Input\n                ref={searchRef}\n                className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white\"\n                type=\"search\"\n                name=\"search\"\n                placeholder=\"Search by name\"\n              />\n              <button\n                type=\"submit\"\n                className=\"absolute right-0 top-0 mt-5 mr-1\"\n              ></button>\n            </div>\n          </form>\n        </CardBody>\n      </Card>\n\n      {loading ? (\n        <Loading loading={loading} />\n      ) : serviceData.length !== 0 ? (\n        <TableContainer className=\"mb-8\">\n          <Table>\n            <TableHeader>\n              <tr>\n                <TableCell>Joining Date</TableCell>\n                <TableCell>Name</TableCell>\n                <TableCell>Email</TableCell>\n                <TableCell>userName</TableCell>\n                <TableCell>Disabled</TableCell>\n                <TableCell className=\"text-right\">Actions</TableCell>\n              </tr>\n            </TableHeader>\n            <CustomerTable customers={data.users} />\n          </Table>\n          <TableFooter>\n            <Pagination\n              totalResults={data.totalDoc}\n              resultsPerPage={limitData}\n              onChange={handleChangePage}\n              label=\"Table navigation\"\n            />\n          </TableFooter>\n        </TableContainer>\n      ) : (\n        <NotFound title=\"User\" />\n      )}\n    </>\n  );\n};\n\nexport default Customers;\n","import React, { useContext } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { BsToggleOff, BsToggleOn } from \"react-icons/bs\";\n\nimport { notifySuccess, notifyError } from \"../../utils/toast\";\nimport ProductServices from \"../../services/ProductServices\";\nimport { SidebarContext } from \"../../context/SidebarContext\";\nimport UserServices from \"../../services/UserServices\";\nimport ShopServices from \"../../services/ShopServices\";\n\nconst ShowHideButton = ({ id, status, customValue = \"\", customeKey = \"\" }) => {\n  const location = useLocation();\n  const { setIsUpdate } = useContext(SidebarContext);\n\n  const handleChangeStatus = (id, status) => {\n    console.log(status);\n    notifySuccess(\"please wait...\");\n    if (location.pathname === \"/users\") {\n      UserServices.updateUserById(id, { accountDisabled: status })\n        .then((res) => {\n          setIsUpdate(true);\n          notifySuccess(\"status updated\");\n        })\n        .catch((err) => notifyError(err.message));\n    }\n\n    if (location.pathname === \"/products\") {\n      console.log(customeKey);\n      if ((customeKey = \"feature\")) {\n        ProductServices.updateProduct(id, { [customeKey]: customValue })\n          .then((res) => {\n            console.log(res);\n            setIsUpdate(true);\n            notifySuccess(\"status updated\");\n          })\n          .catch((err) => notifyError(err.message));\n      } else {\n        ProductServices.updateProduct(id, { available: !status })\n          .then((res) => {\n            console.log(res);\n            setIsUpdate(true);\n            notifySuccess(\"status updated\");\n          })\n          .catch((err) => notifyError(err.message));\n      }\n    }\n\n    if (location.pathname === \"/shops\") {\n      ShopServices.updateShop(id, { open: !status })\n        .then((res) => {\n          console.log(res);\n          setIsUpdate(true);\n          notifySuccess(\"status updated\");\n        })\n        .catch((err) => notifyError(err.message));\n    }\n  };\n\n  return (\n    <span\n      className=\"cursor-pointer text-xl flex justify-center text-center\"\n      onClick={() => handleChangeStatus(id, status)}\n    >\n      {status == true ? (\n        <BsToggleOn className=\"text-green-500\" />\n      ) : (\n        <BsToggleOff className=\"text-orange-500\" />\n      )}\n    </span>\n  );\n};\n\nexport default ShowHideButton;\n"],"sourceRoot":""}