(this.webpackJsonptokshop=this.webpackJsonptokshop||[]).push([[30],{215:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(16),l=s(41),c=s(2),n=s(50),d=s(57),i=s(67),j=s(51),b=s(17),o=s(45),x=s(54),O=s(82),h=s(64),g=s(75),m=s(43),u=s(83),p=s(47),f=s(44),w=s(84),y=s(53),v=s(18);var I=(e,t)=>{const{isDrawerOpen:s,closeDrawer:r,setIsUpdate:l}=Object(a.useContext)(b.a),[c,n]=Object(a.useState)(),{register:d,handleSubmit:i,setValue:j,clearErrors:o,formState:{errors:x}}=Object(y.a)();return Object(a.useEffect)((()=>{if(!s)return j("name"),void o("name");e&&O.a.getInterestById(e).then((e=>{e&&(j("name",e.name),n(!0))})).catch((e=>{console.log(e),Object(v.b)("There is a server error!")}))}),[e,j,s]),{register:d,handleSubmit:i,onSubmit:s=>{let{name:a,type:n}=s;if(!a)return void Object(v.b)("name is required!");const d={name:a};d.channel=t,console.log(c),c?(O.a.updateInterest(e,d).then((e=>{l(!0),Object(v.c)("Updated successfully")})).catch((e=>Object(v.b)(e.message))),r()):t&&(O.a.addInterest(d).then((e=>{l(!0),Object(v.c)("added successfully")})).catch((e=>Object(v.b)(e.message))),r())},errors:x}},N=s(1);var k=e=>{let{id:t,interstsId:s}=e;const{register:a,handleSubmit:r,onSubmit:l,errors:c}=I(t,s);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:t?Object(N.jsx)(u.a,{title:"Update  Interest"}):Object(N.jsx)(u.a,{title:"Add Interest"})}),Object(N.jsx)(g.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:Object(N.jsxs)("form",{onSubmit:r(l),children:[Object(N.jsx)("div",{className:"p-6 flex-grow scrollbar-hide w-full max-h-full pb-40",children:Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:"Interest"}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(p.a,{register:a,label:"Interest title",name:"name",type:"text",placeholder:"Interest title"}),Object(N.jsx)(m.a,{errorName:c.parent})]})]})}),Object(N.jsx)(w.a,{id:t,interstsId:s,title:"Interest"})]})})]})},C=s(58),T=s(76);var S=e=>{let{channels:t}=e;const{id:s}=Object(c.i)(),{title:a,serviceId:l,handleModalOpen:n,handleUpdate:d}=Object(C.a)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(h.a,{id:l,title:"interests"}),Object(N.jsx)(x.a,{children:Object(N.jsx)(k,{id:l,interstsId:s})}),Object(N.jsx)(r.TableBody,{children:null===t||void 0===t?void 0:t.map((e=>Object(N.jsxs)(r.TableRow,{children:[Object(N.jsx)(r.TableCell,{className:"font-medium text-sm",children:Object(N.jsx)("div",{className:"flex flex-row",children:Object(N.jsx)("span",{className:"bg-gray-200 mr-2 border-0 text-gray-500 rounded-full inline-flex items-center justify-center px-2 py-1 text-xs font-semibold font-serif mt-2 dark:bg-gray-700 dark:text-gray-300",children:e.name})})}),Object(N.jsx)(r.TableCell,{children:Object(N.jsx)(T.a,{id:e._id,title:e.title,handleUpdate:d,handleModalOpen:n})})]},e._id)))})]})};t.default=()=>{const{id:e,title:t}=Object(c.i)(),{toggleDrawer:s}=Object(a.useContext)(b.a),{data:h,loading:g}=Object(n.a)((()=>O.a.getInterest(e))),{categoryRef:m,setFilter:u,handleChangePage:p,totalResults:f,resultsPerPage:w,dataTable:y,serviceData:v,handleSubmitCategory:I}=Object(d.a)(h);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(o.a,{children:[t," Interests"]}),Object(N.jsx)(x.a,{children:Object(N.jsx)(k,{interstsId:e})}),Object(N.jsx)(r.Card,{className:"min-w-0 shadow-xs overflow-hidden dark:bg-gray-800 mb-5",children:Object(N.jsxs)(r.CardBody,{children:[Object(N.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow"}),Object(N.jsx)("div",{className:"w-full md:w-56 lg:w-56 xl:w-56",children:Object(N.jsxs)(r.Button,{onClick:s,className:"w-full rounded-md h-12",children:[Object(N.jsx)("span",{className:"mr-3",children:Object(N.jsx)(l.f,{})}),"Add New"]})})]})}),g?Object(N.jsx)(j.a,{loading:g}):0!==v.length?Object(N.jsxs)(r.TableContainer,{className:"mb-8",children:[Object(N.jsxs)(r.Table,{children:[Object(N.jsx)(r.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(r.TableCell,{children:"Name"}),Object(N.jsx)(r.TableCell,{className:"text-right",children:"Actions"})]})}),Object(N.jsx)(S,{channels:y})]}),Object(N.jsx)(r.TableFooter,{children:Object(N.jsx)(r.Pagination,{totalResults:f,resultsPerPage:w,onChange:p,label:"Table navigation"})})]}):Object(N.jsx)(i.a,{title:"Interest"})]})}}}]);
//# sourceMappingURL=30.56559cfd.chunk.js.map