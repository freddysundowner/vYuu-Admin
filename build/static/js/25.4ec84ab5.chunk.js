(this.webpackJsonptokshop=this.webpackJsonptokshop||[]).push([[25],{218:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(16),l=s(50),o=s(57),r=s(67),n=s(42);var d={getAllRooms(e){let{page:t,limit:s,title:a,type:c,userId:l}=e;const o=null!==a?a:"",r=null!==c?c:"",d=null!==l&&void 0!=l?l:"";return n.a.get(`/rooms/allrooms/paginated?page=${t}&limit=${s}&title=${o}&type=${r}&userid=${d}`)},getRoomById:e=>n.a.get(`/rooms/rooms/${e}`),updateRoomById:(e,t)=>n.a.put(`/rooms/rooms/updatenew/${e}`,t),deleteRoom:e=>n.a.delete(`/rooms/rooms/${e}`)},j=s(51),b=s(45),i=s(48),h=(s(60),s(64)),m=s(17),u=(s(63),s(1));var x=e=>{let{rooms:t}=e;const[s,l]=Object(a.useState)(""),{toggleModal:o}=Object(a.useContext)(m.a),[r,n]=Object(a.useState)("");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h.a,{id:s,title:r}),Object(u.jsx)(c.TableBody,{children:null===t||void 0===t?void 0:t.map((e=>{var t,s;return Object(u.jsxs)(c.TableRow,{children:[Object(u.jsx)(c.TableCell,{children:Object(u.jsx)("span",{className:"text-sm",children:i(e.createdAt).format("MMM D, YYYY")})}),Object(u.jsx)(c.TableCell,{children:Object(u.jsx)("span",{className:"text-sm",children:e.title})}),Object(u.jsx)(c.TableCell,{children:e.productIds.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.productIds[0].name})," ",Object(u.jsx)("br",{}),"$","",Object(u.jsx)("span",{className:"text-sm",children:e.productIds[0].price}),Object(u.jsx)("span",{className:"text-sm",children:e.productIds[0].discount?`Discounted ${e.productIds[0].discount}`:""})," "]}):Object(u.jsx)("p",{})}),Object(u.jsx)(c.TableCell,{children:Object(u.jsxs)("span",{className:"text-sm font-medium",children:[null===(t=e.hostIds[0])||void 0===t?void 0:t.firstName," ",null===(s=e.hostIds[0])||void 0===s?void 0:s.lastName]})}),Object(u.jsx)(c.TableCell,{children:Object(u.jsx)("span",{className:"text-sm font-medium",children:e.userIds.length})}),Object(u.jsx)(c.TableCell,{children:0==e.ended?1==e.event?Object(u.jsx)(c.Badge,{type:"success",children:"Upcoming"}):Object(u.jsx)(c.Badge,{type:"success",children:"Live"}):Object(u.jsx)(c.Badge,{type:"danger",children:"Ended"})})]},e._id)}))})]})},p=s(2),O=s(11);t.default=()=>{const{state:e,dispatch:t}=Object(a.useContext)(O.a),{adminInfo:s}=e,{currentPage:n,handleChangePage:i,searchText:h,category:g,searchRef:f,handleSubmitForAll:C,sortedField:y,limitData:T}=Object(a.useContext)(m.a),v=Object(p.h)(),N=new URLSearchParams(v.search).get("type"),{data:w,loading:I}=Object(l.a)((()=>d.getAllRooms({page:n,limit:T,category:g,type:N,title:h,price:y,userid:"shopowner"==s.role?s._id:""}))),{serviceData:R,handleOnDrop:P,handleUploadProducts:$}=Object(o.a)(w.rooms);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b.a,{children:"Rooms"}),Object(u.jsx)(c.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(u.jsx)(c.CardBody,{children:Object(u.jsx)("form",{onSubmit:C,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:Object(u.jsxs)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:[Object(u.jsx)(c.Input,{ref:f,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",type:"search",name:"search",placeholder:"Search by title"}),Object(u.jsx)("button",{type:"submit",className:"absolute right-0 top-0 mt-5 mr-1"})]})})})}),I?Object(u.jsx)(j.a,{loading:I}):0!==R.length?Object(u.jsxs)(c.TableContainer,{className:"mb-8",children:[Object(u.jsxs)(c.Table,{children:[Object(u.jsx)(c.TableHeader,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)(c.TableCell,{children:"Created Date"}),Object(u.jsx)(c.TableCell,{children:"Title"}),Object(u.jsx)(c.TableCell,{children:"Product"}),Object(u.jsx)(c.TableCell,{children:"Host"}),Object(u.jsx)(c.TableCell,{children:"Live Users"}),Object(u.jsx)(c.TableCell,{children:"Status"})]})}),Object(u.jsx)(x,{rooms:w.rooms})]}),Object(u.jsx)(c.TableFooter,{children:Object(u.jsx)(c.Pagination,{totalResults:w.totalDoc,resultsPerPage:T,onChange:i,label:"Table navigation"})})]}):Object(u.jsx)(r.a,{title:"Room"})]})}},63:function(e,t,s){"use strict";var a=s(0),c=s(2),l=s(86),o=s(18),r=s(56),n=s(17),d=s(65),j=s(46),b=s(1);t.a=e=>{let{id:t,status:s,customValue:i="",customeKey:h=""}=e;const m=Object(c.h)(),{setIsUpdate:u}=Object(a.useContext)(n.a);return Object(b.jsx)("span",{className:"cursor-pointer text-xl flex justify-center text-center",onClick:()=>((e,t)=>{console.log(t),Object(o.c)("please wait..."),"/users"===m.pathname&&d.a.updateUserById(e,{accountDisabled:t}).then((e=>{u(!0),Object(o.c)("status updated")})).catch((e=>Object(o.b)(e.message))),"/products"===m.pathname&&(console.log(h),(h="feature")?r.a.updateProduct(e,{[h]:i}).then((e=>{console.log(e),u(!0),Object(o.c)("status updated")})).catch((e=>Object(o.b)(e.message))):r.a.updateProduct(e,{available:!t}).then((e=>{console.log(e),u(!0),Object(o.c)("status updated")})).catch((e=>Object(o.b)(e.message)))),"/shops"===m.pathname&&j.a.updateShop(e,{open:!t}).then((e=>{console.log(e),u(!0),Object(o.c)("status updated")})).catch((e=>Object(o.b)(e.message)))})(t,s),children:1==s?Object(b.jsx)(l.b,{className:"text-green-500"}):Object(b.jsx)(l.a,{className:"text-orange-500"})})}}}]);
//# sourceMappingURL=25.4ec84ab5.chunk.js.map